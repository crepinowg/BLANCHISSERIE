{% extends 'base.html.twig' %}

{% block creationFacture %}

<link rel="canonical" href="https://preview.keenthemes.com/metronic8" />
<!--begin::Fonts-->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
<!--end::Fonts-->
<!--begin::Page Vendor Stylesheets(used by this page)-->
<link href="{{asset('assets/plugins/custom/datatables/datatables.bundle.css')}}" rel="stylesheet" type="text/css" />
<!--end::Page Vendor Stylesheets-->
<!--begin::Global Stylesheets Bundle(used by all pages)-->
<link href="{{asset('assets/css/style.bundle.css')}}" rel="stylesheet" type="text/css" />
<link href="{{asset('assets/plugins/global/plugins.bundle.css')}}" rel="stylesheet" type="text/css" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{{asset('assets/js/jquery-3.6.0.min.js')}}"></script>
<!--<form method="POST" action="{{path('app.facture.creationn',{id: factureCreation.id})}}" id="my-form">-->
<form id="my-form">
    <div class="app-main__inner">
        <div class="app-page-title">
            <div class="page-title-wrapper">
                <div class="page-title-heading">
                    <div class="page-title-icon">
                        <i class="lnr-map text-info"></i>
                    </div>
                    <div> Création Facture
                        <div class="page-title-subheading">Suivez les étapes suivantes pour créer votre facture</div>
                    </div>
                </div>
                <div class="page-title-actions">
                    <button type="button" data-toggle="tooltip" title="Example Tooltip" data-placement="bottom"
                        class="btn-shadow mr-3 btn btn-dark">
                        <i class="fa fa-star"></i>
                    </button>
                    <div class="d-inline-block dropdown">
                        <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                            class="btn-shadow dropdown-toggle btn btn-info">
                            <span class="btn-icon-wrapper pr-2 opacity-7">
                                <i class="fa fa-business-time fa-w-20"></i>
                            </span>
                            Accueil
                        </button>
                        <div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu dropdown-menu-right">
                            <ul class="nav flex-column">
                                <li class="nav-item">
                                    <a class="nav-link">
                                        <i class="nav-link-icon lnr-inbox"></i>
                                        <span> Inbox</span>
                                        <div class="ml-auto badge badge-pill badge-secondary">86</div>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link">
                                        <i class="nav-link-icon lnr-book"></i>
                                        <span> Book</span>
                                        <div class="ml-auto badge badge-pill badge-danger">5</div>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link">
                                        <i class="nav-link-icon lnr-picture"></i>
                                        <span> Picture</span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a disabled class="nav-link disabled">
                                        <i class="nav-link-icon lnr-file-empty"></i>
                                        <span> File Disabled</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <ul class="body-tabs body-tabs-layout tabs-animated body-tabs-animated nav">

            <li class="nav-item">
                <a role="tab" class="nav-link active" id="tab-0" data-toggle="tab" href="#tab-content-0">
                    <span>FACTURE</span>
                </a>
            </li>
        </ul>

    </div>
    <div class=" tab-pane tabs-animation fade show active" id="tab-content-0" role="tabpanel">
        <div class="main-card mb-3 card">
            <div class="card-body">
                <div id="smartwizard3" class="forms-wizard-vertical">
                    
                    <ul class="forms-wizard">
                        <li>
                            <a href="#step-123">
                                <em>#</em><span>INFORMATIONS BASIQUES</span>
                            </a>
                        </li>
                        <li>
                            <a href="#step-122">
                                <em>1</em><span>Détails de la facture</span>
                            </a>
                        </li>
                        <li>
                            <a href="#step-124">
                                <em>#</em><span>INFORMATIONS SUPPLEMENTAIRES</span>
                            </a>
                        </li>
                        {% for i in 1..10 %}
                        <li>
                            <a href="#step-222{{i}}">
                                <em>{{i+1}}</em><span>Désignation {{i}}</span>
                            </a>
                        </li>
                    
                        {% endfor %}


                        <li>
                            <a href="#step-322">
                                <em>#</em><span>Finalisation</span>
                            </a>
                        </li>
                    </ul>

                    <div class="form-wizard-content">

                        <div id="step-124">
                            <div id="accordion" class="accordion-wrapper mb-3">
                                <div class="card">
                                    <div id="headingTwo" class="b-radius-0 card-header">
                                        <button type="button" data-toggle="collapse" data-target="#collapseTwo"
                                            aria-expanded="false" aria-controls="collapseTwo"
                                            class="text-left m-0 p-0 btn btn-link btn-block">
                                            <span class="form-heading">Informations Supplémentaires<p>Entrez les
                                                    informations</p></span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="step-123">
                            <div id="accordion" class="accordion-wrapper mb-3">
                                <div class="card">
                                    <div id="headingTwo" class="b-radius-0 card-header">
                                        <button type="button" data-toggle="collapse" data-target="#collapseTwo"
                                            aria-expanded="false" aria-controls="collapseTwo"
                                            class="text-left m-0 p-0 btn btn-link btn-block">
                                            <span class="form-heading">Informations Basiques<p>Entrez les informations
                                                </p></span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>


                        {{dump(factureCreation)}}
                        <div id="step-122">
                            <div class="card-body">
                                <div class="position-relative form-group">
                                    <label for="exampleEmail5">Nom du client</label>
                                    <input type="text" class=" is-valid form-control" name="nom" value="
    {% for clientNom in factureCreation.utilisateur%}
        {{clientNom.nom}}
    {% endfor %}    
    " disabled>
                                    <div class="invalid-feedback">You will not be able to see this</div>
                                    <small class="form-text text-muted">Example help text that remains
                                        unchanged.</small>
                                </div>
                                <div class="position-relative form-group">
                                    <label for="exampleEmail6">Email</label>
                                    <input type="email" class="is-valid form-control" name="email" value="
        {% for clientEmail in factureCreation.utilisateur%}
            {{clientEmail.email}}
        {% endfor %}    
    " disabled>
                                    
                                </div>

                                <div class="position-relative form-group">
                                    <label for="examplePassword">Adresse</label>
                                    <input type="text" class="is-valid form-control" name="adresse" value="
        {% for clientAdresse in factureCreation.utilisateur%}
            {{clientAdresse.adresse}}
        {% endfor %}    
        " disabled>
                                    
                                <div class="position-relative form-group">
                                    <label for="exampleEmail6">Numéro de facture existant</label>
                                    <input type="number" class="form-control numeroIsValid" name="numFacture" id="numeroE">
                                    <div class="invalid-feedback invalid-existant d-none">Désolé! Numéro déjà existant.</div>
                                    
                                </div>
                                
                               
                                </div>
                                <div class="position-relative form-group">
                                    <label for="exampleEmail7">Equipes</label>&nbsp;<a href="{{path('app.equipe.ajout')}}"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#7239ea}</style><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"/></svg></a>
                                    <div class="fv-row">
                                    <!--begin::Radio group-->
                                <!--begin::Radio-->
                                
                                    <select name="equipe" class="form-control"> 
                                        {% for equipe in equipes %}
                                            {% if equipe.statut == 0 %}
                                            <option value="{{equipe.id}}">{{equipe.nom}}</option>
                                            {% endif %}
                                        {% endfor %}
                                    </select>
                                
                            </div>
                            <!--end::Radio group-->
                           
                        
                                   
                                </div>
                                <div class="position-relative form-group">
                                    <label for="exampleEmail">Date de Livraison</label>
                                    <input type="datetime-local" class="form-control dateIsValid" name="dateLivr" id="dateLivraison" >
                                    <div class="invalid-feedback invalid-date d-none">Choisir une date cohérente.</div>
                                    <!--<div class="valid-tooltip">Sweet! that name is available</div>
                                    <small class="form-text text-muted">Example help text that remains
                                        unchanged.</small>-->
                                </div>
                                <div class="position-relative form-group">
                                    <label for="exampleEmail">Taux de réduction</label>
                                    <input type="number" class="is-valid form-control" name="tauxReduc"  id="tauxReduction">
                                    
                                </div>

                            </div>
                        </div>
                        <script>
                            $(document).ready(function () {
                                    $.ajax({
                                        type: 'GET',
                                        url: '/dataFacture',
                                        dataType: 'json',
                                        success: function Object(response) {
                                            numeroE = document.getElementById('numeroE');
                                            numeroE.addEventListener("input", function () {
                                                let isCheck = false;

                                                for (let key in response) {
                                                    //console.log(numeroE+"-"+response[key].numeroE);
                                                    if (numeroE.value == response[key].numeroE) {
                                                        $(".invalid-existant").removeClass("d-none");
                                                        $(".valid-existant").addClass("d-none");
                                                        $(".numeroIsValid").addClass("is-invalid");
                                                        $(".numeroIsValid").removeClass("is-valid");
                                                        isCheck = true;
                                                    }
                                                    else if (numeroE.value != response[key].numeroE && isCheck != true) {
                                                        $(".invalid-existant").addClass("d-none");
                                                        $(".valid-existant").removeClass("d-none");
                                                        $(".numeroIsValid").addClass("is-valid");
                                                        $(".numeroIsValid").removeClass("is-invalid");
                                                    }

                                                    else if (numeroE.value == null) {
                                                        $(".invalid-existant").addClass("d-none");
                                                        $(".valid-existant").addClass("d-none");
                                                        $(".numeroIsValid").addClass("is-valid");
                                                        $(".numeroIsValid").addClass("is-invalid");
                                                    }

                                                }


                                                console.log(response);
                                            })
                                    },
                                        error: function (xhr, status, error) {
                                            console.log("OKAY");
                                            console.log('Erreur : ' + xhr);
                                        }
                                    });

                                });

                                // Récupération de la valeur de la date saisie dans l'input
                                    var dateLivraison = document.getElementById("dateLivraison");

                                    dateLivraison.addEventListener("input", function () {

                                        var dateSelectionnee = new Date(dateLivraison.value).toISOString().substr(0, 10);
                                        var dateAujourdhui = new Date().toISOString().substr(0, 10);

                                        if (dateSelectionnee > dateAujourdhui) {
                                            $(".invalid-feedback-date").addClass("d-none");
                                            //$(".valid-feedback").addClass("d-none");
                                            $(".dateIsValid").removeClass("is-invalid");
                                            $(".dateIsValid").addClass("is-valid");
                                        } else {
                                            $(".invalid-date").removeClass("d-none");
                                            //$(".valid-feedback").addClass("d-none");
                                            $(".dateIsValid").addClass("is-invalid");
                                            $(".dateIsValid").removeClass("is-valid");
                                        }

                                        // Comparaison des deux dates
                                        console.log(dateAujourdhui + "--" + dateLivraison.value);
                                        
                                    });

                                    var tauxReduction= document.getElementById("tauxReduction");

                                        tauxReduction.addEventListener("input", function() {
                                           

                                        console.log(tauxReduction.value);
                                        if (tauxReduction.value>100) {
                                            tauxReduction.value="";
                                            tauxReduction.value=100;
                                        } 
                                        else if (tauxReduction.value<0) {
                                            tauxReduction.value=Math.abs(tauxReduction.value);
                                        } 
                                        else if (tauxReduction.value.length<=0) {
                                            tauxReduction.value="";
                                        } 
                                        
                                        

                                    });

                                       

                        </script>

                        {% set iter = 0 %}
                        {% for i in 1..10 %}
                        {% set iter = i + 1%}

                        <div id="step-222{{i}}">
                            <div id="accordion" class="accordion-wrapper mb-3">
                                <div class="card">
                                    <div id="headingTwo" class="b-radius-0 card-header">
                                        <button type="button" data-toggle="collapse" data-target="#collapseTwo"
                                            aria-expanded="false" aria-controls="collapseTwo"
                                            class="text-left m-0 p-0 btn btn-link btn-block">
                                            <span class="form-heading">Désignation {{i}}<p>Entrez les informations</p>
                                                </span>
                                        </button>
                                    </div>
                                    <div data-parent="#accordion" id="collapseTwo" class="collapse show">
                                        <div class="card-body">


                                            <div class="containeri{{i}}">
                                                
                                                <div class="icon-containeri{{i}} col-sm-6 col-md-4 col-lg-3 d-none">
                                                    <label for="clothes-iconi{{i}}" class="icon-checkbox-labeli">
                                                        <input type="radio" id="clothes-iconi{{i}}" id="lav-input" name="iconsObjetType{{i}}" class="icon-checkboxi{{i}}" value="1">
                        
                                                        <a class="btn btn-icon icon-hover-primary btn-bg-light btn-active-color-primary btn-sm me-1">
                                                            <i class="fasi fa fa-2x"></i>Lav<br>
                                                        </a>
                                                    </label>
                                                </div>
                                                <div class="icon-containeri{{i}}{{i}} col-sm-6 col-md-4 col-lg-3 d-none">
                                                    <label for="clothes-iconi{{i}}{{i}}" class="icon-checkbox-labeli">
                                                        <input type="radio" id="clothes-iconi{{i}}{{i}}" id="rep-input" name="iconsObjetType{{i}}" class="icon-checkboxi{{i}}" value="2">
                        
                                                        <a class="btn btn-icon icon-hover-primary btn-bg-light btn-active-color-primary btn-sm me-1">
                                                            <i class="fasi fa fa-2x"></i>Rep<br>
                                                        </a>
                                                    </label>
                                                </div>
                                                <div class="icon-containeri{{i}}{{i}}{{i}} col-sm-6 col-md-4 col-lg-3 d-none">
                                                    <label for="clothes-iconi{{i}}{{i}}{{i}}" class="icon-checkbox-labeli">
                                                        <input type="radio" id="clothes-iconi{{i}}{{i}}{{i}}" id="lr-input" name="iconsObjetType{{i}}" class="icon-checkboxi{{i}}" value="3">
                        
                                                        <a class="btn btn-icon icon-hover-primary btn-bg-light btn-active-color-primary btn-sm me-1">

                                                            <i class="fasi fa-washing fa-2x"></i>LR<br>

                                                        </a>
                                                    </label>
                                                </div>
                                                
                                                
                                            </div>
                                            

                                            <style>
                                                .containeri{{i}}{
                                                    display: flex;
                                                    flex-wrap: wrap;
                                                    justify-content: center;
                                                }
                        
                                                .icon-containeri{{i}} {
                                                    margin: 10px;
                                                    width: 25px;
                                                    height: 25px;
                                                    max-width: 300px;
                                                    background-color: #fff;
                                                    border-radius: 8px;
                                                    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);
                                                    display: flex;
                                                    justify-content: center;
                                                    align-items: center;
                                                }
                        
                                                .icon-checkboxi{{i}} {
                                                    display: none;
                                                }
                        
                                                .icon-checkbox-labeli {
                                                    cursor: pointer;
                                                    margin-top: 8px;
                                                }
                        
                                                .icon-checkbox-labeli:hover {
                                                    opacity: 0.7;
                                                }
                        
                                                .icon-checkbox-labeli:active .icon-containeri{{i}} {
                                                    background-color: #ebebeb;
                                                }
                        
                                                .icon-checkboxi{{i}}:checked+.btn {
                                                    background-color: #007bff;
                                                    color: #fff;
                                                }
                        
                                                .icon-checkboxi{{i}}:checked+.icon-containeri{{i}} {
                                                    background-color: #007bff;
                                                    color: #fff;
                                                }
                        
                        
                                                .icon-checkboxi{{i}}:checked+.btn .fasi {
                                                    color: #fff;
                                                }
                        
                                              
                        
                                                .btn-icon {
                                                    width: 100%;
                                                    max-width: 300px;
                                                    height: 150px;
                                                    padding: 0.5rem;
                                                    border-radius: 8px;
                                                    border: none;
                                                    background-color: transparent;
                                                    color: #007bff;
                                                    transition: all 0.3s ease-in-out;
                                                    display: flex;
                                                    flex-direction: column;
                                                    justify-content: center;
                                                    align-items: center;
                                                }
                        
                                                .btn-icon:hover {
                                                    background-color: #ebebeb;
                                                    color: #007bff;
                                                }
                        
                                                .btn-icon:focus {
                                                    outline: none;
                                                }
                        
                                                .btn-bg-light {
                                                    background-color: #fff;
                                                }
                        
                                                .btn-active-color-primary:active {
                                                    background-color: #007bff;
                                                    color: #fff;
                                                }
                        
                                               
                                            </style>
                                              
                                              
                                            

                                                <div class="container{{i}}">
                                                    {% for icon in icons %}
                                                    {{dump(icon.id)}}
                                                    <div class="icon-container{{loop.index}}">
                                                        <label for="clothes-icon{{i}}-{{loop.index}}" class="icon-checkbox-label{{loop.index}}">
                                                            <input type="radio" id="clothes-icon{{i}}-{{loop.index}}" name="iconsObjet{{i}}"
                                                                class="icon-checkbox{{loop.index}} ico-checkbox{{i}}{{loop.index}}" value="{{icon.id}}">
                            
                                                            <a
                                                                class="btn{{loop.index}} btn-icon{{loop.index}} icon-hover-primary btn-bg-light{{loop.index}} btn-active-color-primary{{loop.index}} btn-sm me-1">
                                                                <i class="fas{{loop.index}} fa-{{icon.nomicon}} fa-2x"></i><br>
                                                                <span class="nom{{loop.index}}">{{icon.nomicon}}</span>
                                                            </a>
                                                        </label>
                                                    </div>
                                                    {% endfor %}
                                                </div>
                                                <style>
                                                    .container{{i}} {
                                                        display: flex;
                                                        flex-wrap: wrap;
                                                        justify-content: center;
                                                    }
                            
                                                    .icon-container{{i}} {
                                                        margin: 10px;
                                                        width: 95px;
                                                        height: 95px;
                                                        max-width: 300px;
                                                        background-color: #fff;
                                                        border-radius: 8px;
                                                        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);
                                                        display: flex;
                                                        justify-content: center;
                                                        align-items: center;
                                                    }
                            
                                                    .icon-checkbox{{i}} {
                                                        display: none;
                                                    }
                            
                                                    .icon-checkbox-label{{i}} {
                                                        cursor: pointer;
                                                        margin-top: 8px;
                                                    }
                            
                                                    .icon-checkbox-label{{i}}:hover {
                                                        opacity: 0.7;
                                                    }
                            
                                                    .icon-checkbox-label{{i}}:active .icon-container{{i}} {
                                                        background-color: #ebebeb;
                                                    }
                            
                                                    .icon-checkbox{{i}}:checked+.btn{{i}} {
                                                        background-color: #007bff;
                                                        color: #fff;
                                                    }
                            
                                                    .icon-checkbox{{i}}:checked+.icon-container{{i}} {
                                                        background-color: #007bff;
                                                        color: #fff;
                                                    }
                            
                                                    
                            
                                                    .icon-checkbox{{i}}:checked+.btn{{i}} .fas{{i}} {
                                                        color: #fff;
                                                    }
                            
                                                    .icon-checkbox{{i}}:checked+.btn{{i}} .nom{{i}} {
                                                        color: #fff;
                                                    }
                            
                                                    .btn-icon{{i}} {
                                                        width: 100%;
                                                        max-width: 300px;
                                                        height: 150px;
                                                        padding: 0.5rem;
                                                        border-radius: 8px;
                                                        border: none;
                                                        background-color: transparent;
                                                        color: #007bff;
                                                        transition: all 0.3s ease-in-out;
                                                        display: flex;
                                                        flex-direction: column;
                                                        justify-content: center;
                                                        align-items: center;
                                                    }
                            
                                                    .btn-icon{{i}}:hover {
                                                        background-color: #ebebeb;
                                                        color: #007bff;
                                                    }
                            
                                                    .btn-icon{{i}}:focus {
                                                        outline: none;
                                                    }
                            
                                                    .btn-bg-light{{i}} {
                                                        background-color: #fff;
                                                    }
                            
                                                    .btn-active-color-primary{{i}}:active {
                                                        background-color: #007bff;
                                                        color: #fff;
                                                    }
                            
                                                    .nom{{i}} {
                                                        margin-top: 0.5rem;
                                                        font-size: 1rem;
                                                        text-align: center;
                                                    }
                                                </style>
                                            <div class="position-relative form-group">
                                                <label for="quantite">Quantité</label>
                                                <input name="qte{{i}}" id="quantite{{i}}" placeholder="" type="number"
                                                    class="form-control">
                                            </div>
                                            <div class="position-relative form-group ">
                                                <!-- Checked switch -->
                                            <div class="form-check form-switch{{i}} d-none">
                                                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked{{i}}"name="express{{i}}"/>
                                                <input class="form-check-input" type="hidden" role="switch" id="flexSwitchHidden{{i}}"name="expressHidden{{i}}"/>
                                                <label class="form-check-label express{{i}}" for="flexSwitchCheckChecked">Service Express</label>
                                            </div>

                                            <div class="position-relative form-group block-date{{i}}">
                                                <label for="exampleUrl">Date Livraison Express</label>
                                                <input name="dateExpress{{i}}" id="dateExpressId{{i}}" placeholder="" type="datetime-local"
                                                    class="form-control dateIsValidExpress" >
                                                    <div class="invalid-feedback invalid-date-express d-none">Choisir une date cohérente.</div>
                                            </div>

                                            <!-- CODE JS POUR CACHER LE CHAMP DATE EXPRESS -->
                                                <script>
                                                $(function() {
                                                // Cacher le bloc de date au chargement de la page
                                                $(".block-date{{i}}").addClass("d-none");

                                                // Ajouter ou supprimer la classe "d-none" lorsque la case à cocher est cochée ou décochée
                                                $("#flexSwitchCheckChecked{{i}}").on("change", function() {
                                                    
                                                    if ($(this).is(":checked")) {
                                                    $(".block-date{{i}}").removeClass("d-none");
                                                    } else {
                                                    $(".block-date{{i}}").addClass("d-none");
                                                    }
                                                });
                                                });

                                                </script>
                                            </div>
                                            <!-- FIN CODE JS -->
                                            
                                            <div class="position-relative form-group">
                                                <label for="exampleUrl">Prix Unitaire (P.U)</label>
                                                <input name="pu{{i}}" id="prixunitaire{{i}}" placeholder="" type="number"
                                                    class="form-control " readonly >
                                            </div>
                                            
                                            <div class="position-relative form-group">
                                                <label for="exampleNumber">Prix Total</label>
                                                <input name="pt{{i}}" id="prixtotal{{i}}" placeholder="" type="number"
                                                    class="form-control" readonly >
                                            </div>

                                            <div class="position-relative form-group">
                                                <label for="">ID</label>
                                                <input name="idTarifs{{i}}" id="tariId{{i}}" placeholder="" type="number"
                                                    class="form-control" readonly>
                                                    <input name="idTarifs2{{i}}" id="tariId2{{i}}" placeholder="" type="number"
                                                    class="form-control" readonly>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {% for icon in icons %}
                        <!-- CODE JAVASCRIPT -->
                                            <script>
                                            $(document).ready(function() {
                                                $.ajax({
                                                    type: 'GET',
                                                    url: '/dataTarifs',
                                                    dataType: 'json',
                                                    success: function Object(response) {

                                                        $(".form-switch{{i}}").addClass("d-none");
                                                        //const donnees = JSON.parse(response);
                                                            window.lavInput = document.getElementById('clothes-iconi{{i}}').value;
                                                            window.repInput = document.getElementById('clothes-iconi{{i}}{{i}}').value;
                                                            window.lrInput = document.getElementById('clothes-iconi{{i}}{{i}}{{i}}').value;
                                                            window.ptInput = document.getElementById('prixtotal{{i}}');
                                                            window.puInput = document.getElementById('prixunitaire{{i}}');
                                                            var boolL ;
                                                            var boolR ;
                                                            var boolLR ;
                                                            

                                                          
                                                            
                                                           if ( window.lrInput !== null &&  window.lavInput!==null &&  window.repInput!==null) {
                                                                
                                                                    $(function() {
                                                                        var puInput = document.getElementById('prixunitaire{{i}}');
                                                                        var ptInput = document.getElementById('prixtotal{{i}}');
                                                                        var ptInput = document.getElementById('prixtotal{{i}}');
                                                                        $(".ico-checkbox{{i}}{{loop.index}}").on("change", function() {
                                                                            puInput.value = 0;
                                                                            ptInput.value = 0;
                                                                            if ($(this).is(":checked")) {
                                                                                 if ($("#clothes-iconi{{i}}").is(":checked")) {
                                                                                    $("#clothes-iconi{{i}}").prop("checked", false);

                                                                                }
                                                                                else{
                                                                                    $(".form-switch{{i}}").addClass("d-none");
                                                                                }
                                                                                if ($("#clothes-iconi{{i}}{{i}}").is(":checked")) {
                                                                                    $("#clothes-iconi{{i}}{{i}}").prop("checked", false);
                                                                                }
                                                                                else{
                                                                                    $(".form-switch{{i}}").addClass("d-none");
                                                                                }
                                                                                if ($("#clothes-iconi{{i}}{{i}}{{i}}").is(":checked")) {
                                                                                    $("#clothes-iconi{{i}}{{i}}{{i}}").prop("checked", false);
                                                                                }
                                                                                else{
                                                                                    $(".form-switch{{i}}").addClass("d-none");
                                                                                }
                                                                                var boolALR = true;
                                                                                var boolAL = true;
                                                                                var boolAR = true;
                                                                                window.iconCheck = document.querySelector('.ico-checkbox{{i}}{{loop.index}}').value;
                                                                                console.log("ICON CHECK "+iconCheck);
                                                                                for (let key in response) {
                                                                                //    console.log("ICON CHECK "+iconCheck);
                                                                                //console.log("RESPONSE ID " +response[key].icon.id+" - "+response[key].type);
                                                                                    if (response[key].icon.id == iconCheck && response[key].type== window.lavInput) {
                                                                                       
                                                                                        $(".icon-containeri{{i}}").removeClass("d-none");
                                                                                       // console.log("Remove L");
                                                                                        boolL =true;
                                                                                        
                                                                                    }
                                                                                    
                                                                                    /*else if (response[key].icon.id == iconCheck  && boolL!=true) {
                                                                                       
                                                                                        $(".icon-containeri{{key+1}}").addClass("d-none");
                                                                                        console.log("Add L");
                                                                                        
                                                                                    }*/

                                                                                    else if (response[key].icon.id == iconCheck && response[key].type== window.repInput) {
                                                                                       
                                                                                       $(".icon-containeri{{i}}{{i}}").removeClass("d-none");
                                                                                      // console.log("Remove R");
                                                                                       boolR =true;
                                                                                       
                                                                                   }

                                                                                   /*else if (response[key].icon.id == iconCheck && boolR!=true) {
                                                                                       
                                                                                       $(".icon-containeri{{key+1}}").addClass("d-none");
                                                                                       console.log("Add R");
                                                                                       
                                                                                   }*/
                                                                                   else if (response[key].icon.id == iconCheck && response[key].type== window.lrInput) {
                                                                                       
                                                                                       $(".icon-containeri{{i}}{{i}}{{i}}").removeClass("d-none");
                                                                                       //console.log("Remove LR");
                                                                                       boolLR =true;
                                                                                       
                                                                                   }
                                                                                   else if ( boolLR!=true && boolALR!=false) {
                                                                                       
                                                                                       $(".icon-containeri{{i}}{{i}}{{i}}").addClass("d-none");
                                                                                       //console.log("Add LR"); 
                                                                                       boolALR = false;
                                                                                       
                                                                                   }
                                                                                   else if ( boolR!=true && boolAR!=false) {
                                                                                       
                                                                                       $(".icon-containeri{{i}}{{i}}").addClass("d-none");
                                                                                       //console.log("Add R");
                                                                                       boolAR = false;
                                                                                       
                                                                                   }

                                                                                   else if ( boolL!=true && boolAL!=false) {
                                                                                       
                                                                                       $(".icon-containeri{{i}}").addClass("d-none");
                                                                                       //console.log("Add L");
                                                                                       boolAL = false;
                                                                                       
                                                                                   }

                                                                                   var dateBlock = document.querySelector(".block-date{{i}}");
                                                                                  dateBlock.classList.add("d-none");

                                                                                   
                                                                                    // Cacher le bloc de date au chargement de la page


                                                                                   
                                                                                   
                                                                                   

                                                                                    
                                                                                }
                                                                            }

                                                                            
                                                                                
                                                                        });
                                                                    });

                                                                    

                                                                    
                                                                    // Utiliser la valeur du champ input ici
                                                                
                                                            } else {
                                                                console.error("L'élément avec l'ID 'monInput' n'existe pas");
                                                            }
                                                            /* CHECK FORM BY STEP */

                                                            console.log("RAEZ");

                                                           /* $(function() {
                                                                console.log("RAEZ1");
                                                                // Obtenez tous les éléments de formulaire dont vous avez besoin
                                                                let puInput = document.getElementById("prixunitaire{{i}}");
                                                                let ptInput = document.getElementById("prixtotal{{i}}");
                                                                let quantite = document.getElementById("quantite{{i}}");
                                                                let nextButton = document.getElementById("next-btn22{{i}}");
                                                                let filled = false;
                                                               

                                                                // Ajoutez un écouteur d'événement "input" à chaque champ de formulaire
                                                                puInput.addEventListener("input", checkForm);
                                                                ptInput.addEventListener("input", checkForm);
                                                                quantite.addEventListener("input", checkForm);

                                                                function checkForm() {
                                                                    console.log("RAEZ2");
                                                                    // Vérifiez si tous les champs sont remplis
                                                                    if(puInput.value.length<=0){
                                                                        filled = true;
                                                                    }
                                                                    if(ptInput.value.length<=0){
                                                                        filled = true;
                                                                    }
                                                                    if(quantite.value.length<=0){
                                                                        filled = true;
                                                                    }
                                                                    if(!filled){
                                                                        nextButton.disabled = true;
                                                                    }

                                                                    if(filled == false){
                                                                        nextButton.disabled =false;
                                                                    }
                                                                    
                                                                    
                                                                    // Activez ou désactivez le bouton en fonction du statut rempli ou non
                                                                    
                                                                }
                                                            });*/

                                                            /* PART 1*/

                                                            $(function() {
                                                                        $("#clothes-iconi{{i}}").on("change", function() {
                                                                            puInput = document.getElementById('prixunitaire{{i}}');
                                                                            var  ptInput = document.getElementById('prixtotal{{i}}');
                                                                            var  quantite = document.getElementById('quantite{{i}}');
                                                                            var  idTarif = document.getElementById('tariId{{i}}');
                                                                            var checkboxHidden = document.getElementById("flexSwitchHidden{{i}}");
                                                                            var formSwitch = document.querySelector("form-switch{{i}}");
                                                                            if ($(this).is(":checked")) {
                                                                                var expressCheck = false;
                                                                                var expressOnlyCheck = false;
                                                                                const iconCheck2 = document.getElementById('clothes-iconi{{i}}').value;
                                                                                console.log("ICON CHECK2 "+iconCheck2);
                                                                                for (let key in response) {
                                                                                //    console.log("ICON CHECK "+iconCheck);
                                                                                console.log("RESPONSE ID " +iconCheck2+"-"+response[key].icon.id+" - "+response[key].type+" - "+response[key].express);
                                                                      
                                                                                   
                                                                                    // Cacher le bloc de date au chargement de la page


                                                                                    // Ajouter ou supprimer la classe "d-none" lorsque la case à cocher est cochée ou décochée
                                                                                    
                                                                                         if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==1) {
                                                                                            $(".form-switch{{i}}").removeClass("d-none");
                                                                                            console.log("OKAYYYYYYYYYYYYYYYYYY");
                                                                                            expressCheck = true;
                                                                                            idTarif.value = response[key].id;

                                                                                        }

                                                                                        if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==0 ) {
                                                                                           
                                                                                           expressOnlyCheck = true;
                                                                                           console.log(" Je suis rentrée 1");
                                                                                           idTarif.value = response[key].id;
                                                                                           //$(window.puInput).val(response[key].prix);
                                                                                            //console.log(" PRIX:"+response[key].prix);
                                                                                          
                                                                                       }
                                                                                       
                                                                                        if (expressCheck ==true && expressOnlyCheck != true) {
                                                                                            var checkbox = document.getElementById("flexSwitchCheckChecked{{i}}");
                                                                                            var dateBlock = document.querySelector(".block-date{{i}}");
                                                                                            checkbox.checked = true;
                                                                                            checkbox.disabled = true;
                                                                                            checkboxHidden.value =Number(1);
                                                                                            dateBlock.classList.remove("d-none");
                                                                                            dateBlock.required = true;
                                                                                            /* VERIFICATION DATE*/
                                                                                           
                                                                                            console.log(" Je suis rentrée 2");

                                                                                            for (let keyy in response) {
                                                                                                if (response[keyy].icon.id == window.iconCheck && response[keyy].type == iconCheck2 && response[keyy].express==1) {
                                                                                                    console.log(" PRIX EXPRESS:"+response[keyy].prix);
                                                                                                    puInput.value = response[keyy].prix;
                                                                                                    idTarif.value = response[keyy].id;
                                                                                                    if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                                        console.log("CHECK ");
                                                                                            
                                                                                                        if ( quantite.value > 0) {
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                        } 
                                                                                                        else if(quantite.value < 0) {
                                                                                                            quantite.value = Math.abs(quantite.value);
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                            
                                                                                                        }

                                                                                                        else if (quantite.value.length<0){
                                                                                                            quantite.value="";  
                                                                                                        }


                                                                                                    }
                                                                                                    
                                                                                                }

                                                                                            }
                                                                                            
                                                                                           // console.log(" PRIX EXPRESS:"+response[key].prix);

                                                                                           
                                                                                        }
                                                                                         if (expressCheck ==true && expressOnlyCheck == true) {
                                                                                            var checkbox = document.getElementById("flexSwitchCheckChecked{{i}}");
                                                                                            var dateBlock = document.querySelector(".block-date{{i}}");
                                                                                            checkbox.checked = false;
                                                                                            checkbox.disabled = false;
                                                                                            dateBlock.required = false;
                                                                                            dateBlock.classList.add("d-none");
                                                                                            checkboxHidden.value =Number(0);
                                                                                            console.log(" Je suis rentrée 3");
                                                                                           // console.log(" PRIX:"+response[key].prix);
                                                                                           for (let keyy in response) {
                                                                                                if (response[keyy].icon.id == window.iconCheck && response[keyy].type == iconCheck2 && response[keyy].express==0) {
                                                                                                    console.log(" PRIXX:"+response[keyy].prix);
                                                                                                    puInput.value = response[keyy].prix;
                                                                                                    idTarif.value = response[keyy].id;
                                                                                                    if (quantite.value.length > 0) {
                                                                                
                                                                                                        
                                                                                                        console.log("CHECK ");
                                                                                            
                                                                                                        if ( quantite.value > 0) {
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                        } 
                                                                                                        else if(quantite.value < 0) {
                                                                                                            quantite.value = Math.abs(quantite.value);
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                            
                                                                                                        }

                                                                                                        else if (quantite.value.length<0){
                                                                                                            quantite.value="";  
                                                                                                        }


                                                                                                    }
                                                                                                                            
                                                                                                }

                                                                                            }
 
                                                                                        }

                                                                                         if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==0 && expressCheck != true) {
                                                                                            $(".form-switch{{i}}").addClass("d-none");
                                                                                            $(".block-date{{i}}").addClass("d-none");
                                                                                            checkboxHidden.value =Number(0);
                                                                                            console.log("NOOOOOOOOOOOOOOOOOOOOO");
                                                                                           // $(window.puInput).val(response[key].prix);
                                                                                           for (let keyy in response) {
                                                                                                if (response[keyy].icon.id == window.iconCheck && response[keyy].type == iconCheck2 && response[keyy].express==0) {
                                                                                                    console.log(" PRIXiX:"+response[keyy].prix);
                                                                                                    puInput.value = response[keyy].prix;
                                                                                                    idTarif.value = response[keyy].id;
                                                                                                    if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                                        console.log("CHECK ");
                                                                                            
                                                                                                        if ( quantite.value > 0) {
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                        } 
                                                                                                        else if(quantite.value < 0) {
                                                                                                            quantite.value = Math.abs(quantite.value);
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                            
                                                                                                        }

                                                                                                        else if (quantite.value.length<0){
                                                                                                            quantite.value="";  
                                                                                                        }


                                                                                                    }
                                                                                                                            
                                                                                                }

                                                                                            }
                                                                                        }

                                                                                        
                                                                                       
                                                                                        
 
                                                                                }
                                                                              }

                                                                              else if ($(this).is(":not(:checked)")) {
                                                                                $(".form-switch{{i}}").addClass("d-none");
                                                                                console.log("CIAOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO");
                                                                                puInput.value = 0;
                                                                                ptInput.value = 123;
                                                                                idTarif.value = "";
                                                                                
                                                                              }
                                                                               
                                                                                
                                                                        });
                                                                    });
                                                                    /* PART 2*/

                                                                    $(function() {
                                                                        $("#clothes-iconi{{i}}{{i}}").on("change", function() {
                                                                            puInput = document.getElementById('prixunitaire{{i}}');
                                                                            var  ptInput = document.getElementById('prixtotal{{i}}');
                                                                            var  quantite = document.getElementById('quantite{{i}}');
                                                                            var  idTarif = document.getElementById('tariId{{i}}');
                                                                            var checkboxHidden = document.getElementById("flexSwitchHidden{{i}}");
                                                                            if ($(this).is(":checked")) {
                                                                                var expressCheck = false;
                                                                                var expressOnlyCheck = false;
                                                                                const iconCheck2 = document.getElementById('clothes-iconi{{i}}{{i}}').value;
                                                                                console.log("ICON CHECK2 "+iconCheck2);
                                                                                for (let key in response) {
                                                                                //    console.log("ICON CHECK "+iconCheck);
                                                                                console.log("RESPONSE ID " +iconCheck2+"-"+response[key].icon.id+" - "+response[key].type+" - "+response[key].express);
                                                                      
                                                                                   
                                                                                    // Cacher le bloc de date au chargement de la page


                                                                                    // Ajouter ou supprimer la classe "d-none" lorsque la case à cocher est cochée ou décochée
                                                                                        console.log("RESPONSE  ID ICON/"+response[key].icon.id+" = ICON SELECT/"+window.iconCheck+" -- RESPONSE TYPE TARIF/"+response[key].type+" = ICON TYPE SELECT" +iconCheck2+" -- RESPONSE EXPRESS/"+response[key].express+"== 1");
                                                                                         if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==1) {
                                                                                            $(".form-switch{{i}}").removeClass("d-none");
                                                                                            
                                                                                            console.log("OKAYYYYYYYYYYYYYYYYYY");
                                                                                            expressCheck = true;
                                                                                            idTarif.value = response[key].id;

                                                                                        }
                                                                                        console.log("RESPONSE  ID ICON/"+response[key].icon.id+" = ICON SELECT/"+window.iconCheck+" -- RESPONSE TYPE TARIF/"+response[key].type+" = ICON TYPE SELECT" +iconCheck2+" -- RESPONSE EXPRESS/"+response[key].express+"== 0");
                                                                                        if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==0) {
                                                                                            
                                                                                           expressOnlyCheck = true;
                                                                                           console.log(" Je suis rentrée 1");
                                                                                           idTarif.value = response[key].id;
                                                                                           //$(window.puInput).val(response[key].prix);
                                                                                            //console.log(" PRIX:"+response[key].prix);
                                                                                          
                                                                                       }
                                                                                       
                                                                                        if (expressCheck ==true && expressOnlyCheck != true ) {
                                                                                            var checkbox = document.getElementById("flexSwitchCheckChecked{{i}}");
                                                                                            var dateBlock = document.querySelector(".block-date{{i}}");
                                                                                            checkbox.checked = true;
                                                                                            checkbox.disabled = true;
                                                                                            checkboxHidden.value =Number(1);
                                                                                            dateBlock.classList.remove("d-none");
                                                                                            dateBlock.required = true;
                                                                                            console.log(" Je suis rentrée 2");

                                                                                            for (let keyy in response) {
                                                                                                if (response[keyy].icon.id == window.iconCheck && response[keyy].type == iconCheck2 && response[keyy].express==1) {
                                                                                                    console.log(" PRIX EXPRESS:"+response[keyy].prix);
                                                                                                    puInput.value = response[keyy].prix;
                                                                                                    idTarif.value = response[keyy].id;
                                                                                                    if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                                        console.log("CHECK ");
                                                                                            
                                                                                                        if ( quantite.value > 0) {
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                        } 
                                                                                                        else if(quantite.value < 0) {
                                                                                                            quantite.value = Math.abs(quantite.value);
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                            
                                                                                                        }

                                                                                                        else if (quantite.value.length<0){
                                                                                                            quantite.value="";  
                                                                                                        }


                                                                                                    }
                                                                                                    
                                                                                                }

                                                                                            }
                                                                                            
                                                                                           // console.log(" PRIX EXPRESS:"+response[key].prix);

                                                                                           
                                                                                        }
                                                                                         if (expressCheck ==true && expressOnlyCheck == true ) {
                                                                                            var checkbox = document.getElementById("flexSwitchCheckChecked{{i}}");
                                                                                            var dateBlock = document.querySelector(".block-date{{i}}");
                                                                                            checkbox.checked = false;
                                                                                            checkbox.disabled = false;
                                                                                            dateBlock.required = false;
                                                                                            dateBlock.classList.add("d-none");
                                                                                            checkboxHidden.value =Number(0);
                                                                                            console.log(" Je suis rentrée 3");
                                                                                           // console.log(" PRIX:"+response[key].prix);
                                                                                           for (let keyy in response) {
                                                                                                if (response[keyy].icon.id == window.iconCheck && response[keyy].type == iconCheck2 && response[keyy].express==0) {
                                                                                                    console.log(" PRIXX:"+response[keyy].prix);
                                                                                                    puInput.value = response[keyy].prix;
                                                                                                    idTarif.value = response[keyy].id;
                                                                                                    if (quantite.value.length > 0) {
                                                                                
                                                                                                        
                                                                                                        console.log("CHECK ");
                                                                                            
                                                                                                        if ( quantite.value > 0) {
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                        } 
                                                                                                        else if(quantite.value < 0) {
                                                                                                            quantite.value = Math.abs(quantite.value);
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                            
                                                                                                        }

                                                                                                        else if (quantite.value.length<0){
                                                                                                            quantite.value="";  
                                                                                                        }


                                                                                                    }
                                                                                                                            
                                                                                                }

                                                                                            }
 
                                                                                        }

                                                                                         if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==0 && expressCheck != true) {
                                                                                            $(".form-switch{{i}}").addClass("d-none");
                                                                                            $(".block-date{{i}}").addClass("d-none");
                                                                                            checkboxHidden.value =Number(0);
                                                                                            console.log("NOOOOOOOOOOOOOOOOOOOOO");
                                                                                           // $(window.puInput).val(response[key].prix);
                                                                                           for (let keyy in response) {
                                                                                                if (response[keyy].icon.id == window.iconCheck && response[keyy].type == iconCheck2 && response[keyy].express==0) {
                                                                                                    console.log(" PRIXiX:"+response[keyy].prix);
                                                                                                    puInput.value = response[keyy].prix;
                                                                                                    idTarif.value = response[keyy].id;
                                                                                                    if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                                        console.log("CHECK ");
                                                                                            
                                                                                                        if ( quantite.value > 0) {
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                        } 
                                                                                                        else if(quantite.value < 0) {
                                                                                                            quantite.value = Math.abs(quantite.value);
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                            
                                                                                                        }

                                                                                                        else if (quantite.value.length<0){
                                                                                                            quantite.value="";  
                                                                                                        }


                                                                                                    }
                                                                                                                            
                                                                                                }

                                                                                            }
                                                                                        }

                                                                                        
                                                                                       
                                                                                        
 
                                                                                }
                                                                              }

                                                                              else if ($(this).is(":not(:checked)")) {
                                                                                $(".form-switch{{i}}").addClass("d-none");
                                                                                
                                                                                console.log("CIAO");
                                                                                puInput.value = 0;
                                                                                ptInput.value = 0;
                                                                                idTarif.value = "";
                                                                                
                                                                              }
                                                                               
                                                                                
                                                                        });
                                                                    });


                                                                    /* PART 3*/

                                                                    $(function() {
                                                                        $("#clothes-iconi{{i}}{{i}}{{i}}").on("change", function() {
                                                                            puInput = document.getElementById('prixunitaire{{i}}');
                                                                            var  ptInput = document.getElementById('prixtotal{{i}}');
                                                                            var  quantite = document.getElementById('quantite{{i}}');
                                                                            var  idTarif = document.getElementById('tariId{{i}}');
                                                                            var checkboxHidden = document.getElementById("flexSwitchHidden{{i}}");
                                                                            if ($(this).is(":checked")) {
                                                                                var expressCheck = false;
                                                                                var expressOnlyCheck = false;
                                                                                const iconCheck2 = document.getElementById('clothes-iconi{{i}}{{i}}{{i}}').value;
                                                                                console.log("ICON CHECK2 "+iconCheck2);
                                                                                for (let key in response) {
                                                                                    console.log(" KEY "+key+" LENGTH "+ response.length);
                                                                                //    console.log("ICON CHECK "+iconCheck);
                                                                                console.log("RESPONSE ID " +iconCheck2+"-"+response[key].icon.id+" - "+response[key].type+" - "+response[key].express+"-"+expressCheck+"-"+expressOnlyCheck);
                                                                      
                                                                                   
                                                                                    // Cacher le bloc de date au chargement de la page


                                                                                    // Ajouter ou supprimer la classe "d-none" lorsque la case à cocher est cochée ou décochée
                                                                                    
                                                                                         if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==1) {
                                                                                            $(".form-switch{{i}}").removeClass("d-none");
                                                                                            console.log("OKAYYYYYYYYYYYYYYYYYY");
                                                                                            expressCheck = true;
                                                                                            idTarif.value = response[key].id;
                                                                                        }

                                                                                        if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==0) {
                                                                                           
                                                                                           expressOnlyCheck = true;
                                                                                           console.log(" Je suis rentrée 1");
                                                                                           idTarif.value = response[key].id;
                                                                                           //$(window.puInput).val(response[key].prix);
                                                                                            //console.log(" PRIX:"+response[key].prix);
                                                                                          
                                                                                       }
                                                                                       
                                                                                        if (expressCheck == true && expressOnlyCheck != true) {
                                                                                            var checkbox = document.getElementById("flexSwitchCheckChecked{{i}}");
                                                                                            var dateBlock = document.querySelector(".block-date{{i}}");
                                                                                            checkbox.checked = true;
                                                                                            checkbox.disabled = true;
                                                                                            dateBlock.required = true;
                                                                                            checkboxHidden.value =Number(1);
                                                                                            dateBlock.classList.remove("d-none");
                                                                                            console.log(" Je suis rentrée 2");

                                                                                            for (let keyy in response) {
                                                                                                
                                                                                                if (response[keyy].icon.id == window.iconCheck && response[keyy].type == iconCheck2 && response[keyy].express==1) {
                                                                                                    console.log(" PRIX EXPRESS:"+response[keyy].prix);
                                                                                                    puInput.value = response[keyy].prix;
                                                                                                    idTarif.value = response[keyy].id;
                                                                                                    if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                                        console.log("CHECK ");
                                                                                            
                                                                                                        if ( quantite.value > 0) {
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                        } 
                                                                                                        else if(quantite.value < 0) {
                                                                                                            quantite.value = Math.abs(quantite.value);
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                            
                                                                                                        }

                                                                                                        else if (quantite.value.length<0){
                                                                                                            quantite.value="";  
                                                                                                        }


                                                                                                    }
                                                                                                }

                                                                                            }
                                                                                            
                                                                                           // console.log(" PRIX EXPRESS:"+response[key].prix);

                                                                                           
                                                                                        }
                                                                                         if (expressCheck ==true && expressOnlyCheck == true ) {
                                                                                            var checkbox = document.getElementById("flexSwitchCheckChecked{{i}}");
                                                                                            var dateBlock = document.querySelector(".block-date{{i}}");
                                                                                            checkbox.checked = false;
                                                                                            checkbox.disabled = false;
                                                                                            dateBlock.required = false;
                                                                                            checkboxHidden.value =Number(0);
                                                                                            dateBlock.classList.add("d-none");
                                                                                            console.log(" Je suis rentrée 3");
                                                                                           // console.log(" PRIX:"+response[key].prix);
                                                                                           for (let keyy in response) {
                                                                                                if (response[keyy].icon.id == window.iconCheck && response[keyy].type == iconCheck2 && response[keyy].express==0) {
                                                                                                    console.log(" PRIXX:"+response[keyy].prix);
                                                                                                    puInput.value = response[keyy].prix;
                                                                                                    idTarif.value = response[keyy].id;
                                                                                                    if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                                        console.log("CHECK ");
                                                                                            
                                                                                                        if ( quantite.value > 0) {
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                        } 
                                                                                                        else if(quantite.value < 0) {
                                                                                                            quantite.value = Math.abs(quantite.value);
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                            
                                                                                                        }

                                                                                                        else if (quantite.value.length<0){
                                                                                                            quantite.value="";  
                                                                                                        }


                                                                                                    }
                                                                                                    
                                                                                                }

                                                                                            }
 
                                                                                        }

                                                                                         if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==0 && expressCheck != true) {
                                                                                            $(".form-switch{{i}}").addClass("d-none");
                                                                                            $(".block-date{{i}}").addClass("d-none");
                                                                                            checkboxHidden.value =Number(0);
                                                                                            console.log("NOOOOOOOOOOOOOOOOOOOOO");
                                                                                           // $(window.puInput).val(response[key].prix);
                                                                                           for (let keyy in response) {
                                                                                                if (response[keyy].icon.id == window.iconCheck && response[keyy].type == iconCheck2 && response[keyy].express==0) {
                                                                                                    console.log(" PRIXiX:"+response[keyy].prix);
                                                                                                    puInput.value = response[keyy].prix;
                                                                                                    idTarif.value = response[keyy].id;
                                                                                                    if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                                        console.log("CHECK ");
                                                                                            
                                                                                                        if ( quantite.value > 0) {
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                        } 
                                                                                                        else if(quantite.value < 0) {
                                                                                                            quantite.value = Math.abs(quantite.value);
                                                                                                            ptInput.value = quantite.value*puInput.value;
                                                                                                            
                                                                                                        }

                                                                                                        else if (quantite.value.length<0){
                                                                                                            quantite.value="";  
                                                                                                        }


                                                                                                    }
                                                                                                }

                                                                                            }
                                                                                        }

                                                                                        
                                                                                       
                                                                                        
 
                                                                                }
                                                                              }

                                                                            else if ($(this).is(":not(:checked)")) {
                                                                                $(".form-switch{{i}}").addClass("d-none");
                                                                                console.log("CIAO");
                                                                                puInput.value = 0;
                                                                                ptInput.value = 0;
                                                                                idTarif.value ="";
                                                                                
                                                                              }
                                                                               
                                                                                
                                                                        });
                                                                    });

                                                                    /* CHECK FORM BY STEP 
                                                                    $(function() {
                                                                        var  inputs = document.getElementById('pu{{i}}');
                                                                        inputs.addEventListener("input", function() {
                                                                            let filled = true;
                                                                            
                                                                            if (!inputs.value) {
                                                                                filled = false;
                                                                            }
                                                                        

                                                                            let nextButton = document.getElementById('next-btn22{{i}}');
                                                                            nextButton.disabled = !filled;
      
                                                                        });
                                                                    });*/

                                                                    /* PART QUANTITE*/

                                                                    $(function() {
                                                                        var  quantite = document.getElementById('quantite{{i}}');
                                                                        quantite.addEventListener("input", function() {
                                                                            puInput = document.getElementById('prixunitaire{{i}}');
                                                                            var  ptInput = document.getElementById('prixtotal{{i}}');
                                                                            const iconCheck2 = document.getElementById('clothes-iconi{{i}}').value;
                                                                            
                                                                            if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                    console.log("CHECK ");
                                                                        
                                                                                    if ( quantite.value > 0) {
                                                                                        ptInput.value = quantite.value*puInput.value;
                                                                                    } 
                                                                                    else if(quantite.value < 0) {
                                                                                        quantite.value = Math.abs(quantite.value);
                                                                                        ptInput.value = quantite.value*puInput.value;
                                                                                        
                                                                                    }

                                                                                    else if (quantite.value.length<0){
                                                                                        quantite.value="";  
                                                                                    }
                                                                                   
                                                                                
                                                                            
                                                                            }
                                                                            /*else if(quantite.value< 0){
                                                                                    
                                                                                    quantite.value = 1;
                                                                                    ptInput.value = puInput.value*quantite.value;   

                                                                            }

                                                                            else if(quantite.value == 0){
                                                                                    
                                                                                    quantite.value = 1;
                                                                                    ptInput.value = puInput.value*quantite.value;   

                                                                            }*/

                                                                            
                                                                            else if (quantite.value.length==0){
                                                                                quantite.value="";
                                                                                ptInput.value="";
                                                                            }
      
      
                                                                        });
                                                                    });

                                                                    /* PART 3.1*/

                                                                    $(function() {
                                                                        $("#flexSwitchCheckChecked{{i}}").on("change", function() {
                                                                            var  puInput = document.getElementById('prixunitaire{{i}}');
                                                                          var  ptInput = document.getElementById('prixtotal{{i}}');
                                                                          var  quantite = document.getElementById('quantite{{i}}');
                                                                          var  idTarif = document.getElementById('tariId{{i}}');
                                                                          var checkbox = document.getElementById("flexSwitchCheckChecked{{i}}");
                                                                          var checkboxHidden = document.getElementById("flexSwitchHidden{{i}}");
                                                                          if ($(this).is(":checked") && $('#clothes-iconi{{i}}{{i}}{{i}}').is(":checked")) {
                                                                            console.log("1111111111111111111111111111111111111111111111111");
                                                                                checkboxHidden.value =Number(1);
                                                                                const iconCheck2 = document.getElementById('clothes-iconi{{i}}{{i}}{{i}}').value;
                                                                                console.log("ICON CHECK2 "+iconCheck2);
                                                                                for (let key in response) {
                                                                                //    console.log("ICON CHECK "+iconCheck);
                                                                                console.log("RESPONSE ID " +iconCheck2+"-"+response[key].icon.id+" - "+response[key].type+" - "+response[key].express);
                                                                         
                                                                                    if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==1) {
                                                                                            
                                                                                                idTarif.value = response[key].id;
                                                                                                //$(window.puInput).val(response[key].prix);
                                                                                                console.log("PRIX EXPRESS CHECK: "+response[key].prix);
                                                                                                puInput.value = response[key].prix;
                                                                                                if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                                console.log("CHECK ");
                                                                                    
                                                                                                if ( quantite.value > 0) {
                                                                                                    ptInput.value = quantite.value*puInput.value;
                                                                                                } 
                                                                                                else if(quantite.value < 0) {
                                                                                                    quantite.value = Math.abs(quantite.value);
                                                                                                    ptInput.value = quantite.value*puInput.value;
                                                                                                    
                                                                                                }

                                                                                                else if (quantite.value.length<0){
                                                                                                    quantite.value="";  
                                                                                                }


                                                                                            }

                                                                                    }

                                                                                }
                                                                            }else if($(this).is(":not(:checked)") && $('#clothes-iconi{{i}}{{i}}{{i}}').is(":not(:checked)")){
                                                                                checkboxHidden.value =Number(0);
                                                                                const iconCheck2 = document.getElementById('clothes-iconi{{i}}{{i}}{{i}}').value;
                                                                                for (let key in response) {
                                                                                    if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==0) {
                                                                                        idTarif.value = response[key].id;
                                                                                            //$(window.puInput).val(response[key].prix);
                                                                                            console.log(" PRIXCheck:"+response[key].prix);
                                                                                            puInput.value = response[key].prix;
                                                                                            if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                console.log("CHECK ");
                                                                    
                                                                                if ( quantite.value > 0) {
                                                                                    ptInput.value = quantite.value*puInput.value;
                                                                                } 
                                                                                else if(quantite.value < 0) {
                                                                                    quantite.value = Math.abs(quantite.value);
                                                                                    ptInput.value = quantite.value*puInput.value;
                                                                                    
                                                                                }

                                                                                else if (quantite.value.length<0){
                                                                                    quantite.value="";  
                                                                                }


                                                                            }
                                                                                }
                                                                            }
                                                                            
                                                                            }
      
      
                                                                        });
                                                                    });

                                                                    /* PART 3.2*/

                                                                    $(function() {
                                                                        $("#flexSwitchCheckChecked{{i}}").on("change", function() {
                                                                            var  puInput = document.getElementById('prixunitaire{{i}}');
                                                                          var  ptInput = document.getElementById('prixtotal{{i}}');
                                                                          var  quantite = document.getElementById('quantite{{i}}');
                                                                          var  idTarif = document.getElementById('tariId{{i}}');
                                                                          var checkbox = document.getElementById("flexSwitchCheckChecked{{i}}");
                                                                          var checkboxHidden = document.getElementById("flexSwitchHidden{{i}}");
                                                                          console.log("BOX 0 "+checkboxHidden.value);
                                                                          if ($(this).is(":checked") && $('#clothes-iconi{{i}}{{i}}').is(":checked")) {

                                                                            console.log("22222222222222222222222222222222222222222222222222222");
                                                                                checkboxHidden.value = 1;
                                                                                checkboxHidden.checked = true;
                                                                                console.log("BOX 2 "+checkboxHidden.value);
                                                                                checkboxHidden.value =Number(1);
                                                                                console.log("BOX 3 "+checkboxHidden.value);
                                                                                const iconCheck2 = document.getElementById('clothes-iconi{{i}}{{i}}').value;
                                                                                console.log("ICON CHECK2 "+iconCheck2);
                                                                                for (let key in response) {
                                                                                //    console.log("ICON CHECK "+iconCheck);
                                                                                console.log("RESPONSE ID " +iconCheck2+"-"+response[key].icon.id+" - "+response[key].type+" - "+response[key].express);
                                                                         
                                                                                    if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==1) {
                                                                                            
                                                                                        idTarif.value = response[key].id;
                                                                                                //$(window.puInput).val(response[key].prix);
                                                                                                console.log("PRIX EXPRESS CHECK: "+response[key].prix);
                                                                                                puInput.value = response[key].prix;
                                                                                                if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                console.log("CHECK ");
                                                                    
                                                                                if ( quantite.value > 0) {
                                                                                    ptInput.value = quantite.value*puInput.value;
                                                                                } 
                                                                                else if(quantite.value < 0) {
                                                                                    quantite.value = Math.abs(quantite.value);
                                                                                    ptInput.value = quantite.value*puInput.value;
                                                                                    
                                                                                }

                                                                                else if (quantite.value.length<0){
                                                                                    quantite.value="";  
                                                                                }


                                                                            }

                                                                                    }

                                                                                }
                                                                            }else if($(this).is(":not(:checked)") && $('#clothes-iconi{{i}}{{i}}').is(":not(:checked)")){
                                                                                checkboxHidden.value =Number(0);
                                                                                const iconCheck2 = document.getElementById('clothes-iconi{{i}}{{i}}').value;
                                                                                for (let key in response) {
                                                                                    if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==0) {
                                                                                        idTarif.value = response[key].id;
                                                                                            //$(window.puInput).val(response[key].prix);
                                                                                            console.log(" PRIXCheck:"+response[key].prix);
                                                                                            puInput.value = response[key].prix;
                                                                                            if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                console.log("CHECK ");
                                                                    
                                                                                if ( quantite.value > 0) {
                                                                                    ptInput.value = quantite.value*puInput.value;
                                                                                } 
                                                                                else if(quantite.value < 0) {
                                                                                    quantite.value = Math.abs(quantite.value);
                                                                                    ptInput.value = quantite.value*puInput.value;
                                                                                    
                                                                                }

                                                                                else if (quantite.value.length<0){
                                                                                    quantite.value="";  
                                                                                }


                                                                            }
                                                                                }
                                                                            }
                                                                            
                                                                            }
      
      
                                                                        });
                                                                    });

                                                                    

                                                                    $(function() {
                                                                        $("#flexSwitchCheckChecked{{i}}").on("change", function() {
                                                                            var  quantite = document.getElementById('quantite{{i}}');
                                                                        
                                                                            puInput = document.getElementById('prixunitaire{{i}}');
                                                                            var  ptInput = document.getElementById('prixtotal{{i}}');
                                                                            var  idTarif = document.getElementById('tariId{{i}}');
                                                                            var checkbox = document.getElementById("flexSwitchCheckChecked{{i}}");
                                                                            var checkboxHidden = document.getElementById("flexSwitchHidden{{i}}");
                                                                            if ($(this).is(":checked") && $('#clothes-iconi{{i}}').is(":checked")) {
                                                                                console.log("333333333333333333333333333333333333333333");
                                                                                checkboxHidden.value =Number(1);
                                                                                const iconCheck2 = document.getElementById('clothes-iconi{{i}}').value;
                                                                                console.log("ICON CHECK2 "+iconCheck2);
                                                                                for (let key in response) {
                                                                                //    console.log("ICON CHECK "+iconCheck);
                                                                                console.log("RESPONSE IDD " +iconCheck2+"-"+response[key].id+" - "+response[key].type+" - "+response[key].express);
                                                                         
                                                                                    if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==1) {
                                                                                            
                                                                                        idTarif.value = response[key].id;
                                                                                                //$(window.puInput).val(response[key].prix);
                                                                                                console.log("PRIX EXPRESS CHECKKKK: "+response[key].prix);
                                                                                                puInput.value = response[key].prix;
                                                                                                if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                                    console.log("CHECK ");
                                                                                        
                                                                                                    if ( quantite.value > 0) {
                                                                                                        ptInput.value = quantite.value*puInput.value;
                                                                                                    } 
                                                                                                    else if(quantite.value < 0) {
                                                                                                        quantite.value = Math.abs(quantite.value);
                                                                                                        ptInput.value = quantite.value*puInput.value;
                                                                                                        
                                                                                                    }

                                                                                                    else if (quantite.value.length<0){
                                                                                                        quantite.value="";  
                                                                                                    }


                                                                                                }
                                                                                            }
                                                                                }
                                                                            }else if($(this).is(":not(:checked)") && $('#clothes-iconi{{i}}').is(":not(:checked)")){
                                                                                checkboxHidden.value =Number(0);
                                                                                const iconCheck2 = document.getElementById('clothes-iconi{{i}}').value;
                                                                                for (let key in response) {
                                                                                    if (response[key].icon.id == window.iconCheck && response[key].type == iconCheck2 && response[key].express==0) {
                                                                                        idTarif.value = response[key].id;
                                                                                            //$(window.puInput).val(response[key].prix);
                                                                                            console.log(" PRIXCheck:"+response[key].prix);
                                                                                            puInput.value = response[key].prix;
                                                                                            if (quantite.value.length > 0) {
                                                                                
                                                                                
                                                                                            console.log("CHECK ");
                                                                                
                                                                                            if ( quantite.value > 0) {
                                                                                                ptInput.value = quantite.value*puInput.value;
                                                                                            } 
                                                                                            else if(quantite.value < 0) {
                                                                                                quantite.value = Math.abs(quantite.value);
                                                                                                ptInput.value = quantite.value*puInput.value;
                                                                                                
                                                                                            }

                                                                                            else if (quantite.value.length<0){
                                                                                                quantite.value="";  
                                                                                            }
                                                                                   
                                                                                
                                                                            
                                                                            }
                                                                                }
                                                                            }
                                                                            
                                                                            }
      
      
                                                                        });
                                                                    });
                                                        var dateExpress = document.getElementById("dateExpressId{{i}}");
                                                        dateExpress.addEventListener("input", function () {

                                                            var dateSelectionnee = new Date(dateExpress.value).toISOString().substr(0, 10);
                                                            var dateAujourdhui = new Date().toISOString().substr(0, 10);

                                                            if (dateSelectionnee > dateAujourdhui) {
                                                                $(".invalid-date-express").addClass("d-none");
                                                                //$(".valid-feedback").addClass("d-none");
                                                                $(".dateIsValidExpress").removeClass("is-invalid");
                                                                $(".dateIsValidExpress").addClass("is-valid");
                                                            } else {
                                                                $(".invalid-date-express").removeClass("d-none");
                                                                //$(".valid-feedback").addClass("d-none");
                                                                $(".dateIsValidExpress").addClass("is-invalid");
                                                                $(".dateIsValidExpress").removeClass("is-valid");
                                                            }

                                                            // Comparaison des deux dates
                                                            console.log(dateAujourdhui + "--" + dateLivraison.value);

                                                        });

                                                        /*var puInput = document.getElementById("quantite{{i}}");
                                                        var nextBouton = document.getElementById("next-btn22{{i}}");
                                                        
                                                        puInput.addEventListener("input", function() {
                                                            console.log("TRIM"+puInput.value.trim())
                                                            if (puInput.value.trim() !== "") {
                                                                nextBouton.disabled = false;
                                                            } else {
                                                                nextBouton.disabled = true;
                                                            }
                                                        });*/

                                                    },
                                                    error: function(xhr, status, error) {
                                                        console.log("OKAY");
                                                        console.log('Erreur : ' + xhr);
                                                    }
                                                });
                                                // Exemple de requête AJAX avec jQuery
                                               /* $.ajax({
                                                url: '/dataFacture',
                                                success: function(response) {
                                                    // Analyse de la réponse JSON en objet JavaScript
                                                    var data = JSON.parse(response);
                                                    
                                                    // Utilisation des données
                                                    console.log(data);
                                                }*/
                                            });

                                           
                                            </script>
                                            <!--FIN CODE JS -->
                                            {% endfor %}

                        {% endfor %}

                        <div id="step-322">
                            <div class="no-results">
                                <div class="swal2-icon swal2-success swal2-animate-success-icon">
                                    <div class="swal2-success-circular-line-left"
                                        style="background-color: rgb(255, 255, 255);"></div>
                                    <span class="swal2-success-line-tip"></span>
                                    <span class="swal2-success-line-long"></span>
                                    <div class="swal2-success-ring"></div>
                                    <div class="swal2-success-fix" style="background-color: rgb(255, 255, 255);"></div>
                                    <div class="swal2-success-circular-line-right"
                                        style="background-color: rgb(255, 255, 255);"></div>
                                </div>
                                <div class="results-subtitle mt-4">Finished!</div>
                                <div class="results-title">Vous avez atteint le nombre maximum de désignation. Cliquez
                                    sur Terminé pour finaliser. </div>
                                <div class="mt-3 mb-3"></div>
                                <div class="text-center">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="divider"></div>
                <div class="clearfix">
                    <button type="button" id="reset-btn22" class="btn-shadow float-left btn btn-link">Reset</button>
                    <button class="btn-shadow btn-wide btn btn-success btn-lg" type="submit">Terminé</button>
                    <button type="button" id="next-btn22{{i}}"
                        class="btn-shadow btn-wide float-right btn-pill btn-hover-shine btn btn-primary">Next</button>
                    <button type="button" id="prev-btn22"
                        class="btn-shadow float-right btn-wide btn-pill mr-3 btn btn-outline-secondary">Previous</button>
                    <div class="invalid-feedback invalid-date-express d-none">Choisir une date cohérente.</div></br>
                  
                                        <!--begin::Alert-->
                    <div class="alert alert-dismissible bg-light-danger border border-danger d-flex flex-column flex-sm-row p-5 mb-10 d-none">
                        <!--begin::Icon-->
                        <span class="svg-icon svg-icon-2hx svg-icon-danger me-4 mb-5 mb-sm-0">...</span>
                        <!--end::Icon-->

                        <!--begin::Wrapper-->
                        <div class="d-flex flex-column pe-0 pe-sm-10">
                            <!--begin::Title-->
                            <h5 class="mb-1">Erreur sur la Désignation <span class="alert-identifiant"></span></h5>
                            <!--end::Title-->
                            <!--begin::Content-->
                            <span class="alert-text">The alert component can be used to highlight certain parts of your page for higher content visibility.</span>
                            <!--end::Content-->
                        </div>
                        <!--end::Wrapper-->

                        <!--begin::Close-->
                        <button type="button" class="position-absolute position-sm-relative m-2 m-sm-0 top-0 end-0 btn btn-icon ms-sm-auto" data-bs-dismiss="alert">
                            <i class="bi bi-x fs-1 text-danger"></i>
                        </button>
                        <!--end::Close-->
                    </div>
                    <!--end::Alert-->

                    <!--begin::Alert ENTETE-->
                    <div class="alert alert-dismissible alert-entete-dismissible bg-light-danger border border-danger d-flex flex-column flex-sm-row p-5 mb-10 d-none">
                    <!--begin::Icon-->
                    <span class="svg-icon svg-icon-2hx svg-icon-danger me-4 mb-5 mb-sm-0">...</span>
                    <!--end::Icon-->

                    <!--begin::Wrapper-->
                    <div class="d-flex flex-column pe-0 pe-sm-10">
                        <!--begin::Title-->
                        <h5 class="mb-1">Erreur au niveau des Détails de la facture</span></h5>
                        <!--end::Title-->
                        <!--begin::Content-->
                        <span class="alert-entete-text">The alert component can be used to highlight certain parts of your page for higher content visibility.</span>
                        <!--end::Content-->
                    </div>
                    <!--end::Wrapper-->

                    <!--begin::Close-->
                    <button type="button" class="position-absolute position-sm-relative m-2 m-sm-0 top-0 end-0 btn btn-icon ms-sm-auto" data-bs-dismiss="alert">
                        <i class="bi bi-x fs-1 text-danger"></i>
                    </button>
                    <!--end::Close-->
                </div>
                <!--end::Alert-->

                    
                </div>
                
            </div>
        </div>
    </div>
    </div>
    </div>
    
    <script>
        $(document).ready(function() {
          $('#my-form').submit(function(e) {
            e.preventDefault(); // Empêche la soumission du formulaire par défaut
            var formData = $(this).serialize(); // Récupère les données du formulaire
            $.ajax({
              url: "{{path('app.facture.creationn' ,{id: factureCreation.id})}}",
              method: 'POST',
              data: formData,
              success: function(response) {
                //$('#result').html(response); // Met à jour la vue avec la réponse renvoyée par le contrôleur
               
                var champEntete = document.querySelector('.alert-entete-dismissible');
                var champ = document.querySelector('.alert-dismissible');
                console.log("RESPONSE: "+response[1]);
                if(response[0]=="#01"){
                    
                    var text = document.querySelector('.alert-entete-text');
                    text.innerText= response[1];
                    champEntete.classList.remove("d-none");
                    champ.classList.add("d-none");
                }
                else{
                   
                    var text = document.querySelector('.alert-text');
                    var identifiant = document.querySelector('.alert-identifiant');
                    text.innerText= response[1];
                    identifiant.innerText= response[0];
                    champEntete.classList.add("d-none");
                    champ.classList.remove("d-none");
                }

                if (response.success) {
                    window.location.href = response.redirect_url;
                }
                /*if(response=="isSucess"){
                    var submitUrl="127.0.0.1:8000{{path('app.facture.show',{id: factureCreation.id})}}"
                    console.log(submitUrl);
                    window.location.replace = submitUrl;
                }*/
                
            },

            error: function(xhr, status, error) {
                console.log('Erreur : ' + (xhr.responseText));
                //var errors = JSON.parse(xhr.responseText).errors;
                // Affichez les messages d'erreur à l'utilisateur
            },
              
            });
          });
        });
      </script>
</form>
<div class="app-wrapper-footer">
    <div class="app-footer">
        <div class="app-footer__inner">
            <div class="app-footer-left">
                <div class="footer-dots">
                    <div class="dropdown">
                        <a aria-haspopup="true" aria-expanded="false" data-toggle="dropdown" class="dot-btn-wrapper">
                            <i class="dot-btn-icon lnr-bullhorn icon-gradient bg-mean-fruit"></i>
                            <div class="badge badge-dot badge-abs badge-dot-sm badge-danger">Notifications</div>
                        </a>
                        <div tabindex="-1" role="menu" aria-hidden="true"
                            class="dropdown-menu-xl rm-pointers dropdown-menu">
                            <div class="dropdown-menu-header mb-0">
                                <div class="dropdown-menu-header-inner bg-deep-blue">
                                    <div class="menu-header-image opacity-1"
                                        style="background-image: url('assets/images/dropdown-header/city3.jpg');"></div>
                                    <div class="menu-header-content text-dark">
                                        <h5 class="menu-header-title">Notifications</h5>
                                        <h6 class="menu-header-subtitle">You have <b>21</b> unread messages</h6>
                                    </div>
                                </div>
                            </div>
                            <ul class="tabs-animated-shadow tabs-animated nav nav-justified tabs-shadow-bordered p-3">
                                <li class="nav-item">
                                    <a role="tab" class="nav-link active" data-toggle="tab"
                                        href="#tab-messages-header1">
                                        <span>Messages</span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a role="tab" class="nav-link" data-toggle="tab" href="#tab-events-header1">
                                        <span>Events</span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a role="tab" class="nav-link" data-toggle="tab" href="#tab-errors-header1">
                                        <span>System Errors</span>
                                    </a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane active" id="tab-messages-header1" role="tabpanel">
                                    <div class="scroll-area-sm">
                                        <div class="scrollbar-container">
                                            <div class="p-3">
                                                <div class="notifications-box">
                                                    <div
                                                        class="vertical-time-simple vertical-without-time vertical-timeline vertical-timeline--one-column">
                                                        <div
                                                            class="vertical-timeline-item dot-danger vertical-timeline-element">
                                                            <div>
                                                                <span
                                                                    class="vertical-timeline-element-icon bounce-in"></span>
                                                                <div
                                                                    class="vertical-timeline-element-content bounce-in">
                                                                    <h4 class="timeline-title">All Hands Meeting</h4>
                                                                    <span class="vertical-timeline-element-date"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="vertical-timeline-item dot-warning vertical-timeline-element">
                                                            <div>
                                                                <span
                                                                    class="vertical-timeline-element-icon bounce-in"></span>
                                                                <div
                                                                    class="vertical-timeline-element-content bounce-in">
                                                                    <p>Yet another one, at
                                                                        <span class="text-success">15:00 PM</span>
                                                                    </p>
                                                                    <span class="vertical-timeline-element-date"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="vertical-timeline-item dot-success vertical-timeline-element">
                                                            <div>
                                                                <span
                                                                    class="vertical-timeline-element-icon bounce-in"></span>
                                                                <div
                                                                    class="vertical-timeline-element-content bounce-in">
                                                                    <h4 class="timeline-title">Build the production
                                                                        release
                                                                        <span class="badge badge-danger ml-2">NEW</span>
                                                                    </h4>
                                                                    <span class="vertical-timeline-element-date"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="vertical-timeline-item dot-primary vertical-timeline-element">
                                                            <div>
                                                                <span
                                                                    class="vertical-timeline-element-icon bounce-in"></span>
                                                                <div
                                                                    class="vertical-timeline-element-content bounce-in">
                                                                    <h4 class="timeline-title">Something not important
                                                                        <div
                                                                            class="avatar-wrapper mt-2 avatar-wrapper-overlap">
                                                                            <div
                                                                                class="avatar-icon-wrapper avatar-icon-sm">
                                                                                <div class="avatar-icon">
                                                                                    <img src="assets/images/avatars/1.jpg"
                                                                                        alt="">
                                                                                </div>
                                                                            </div>
                                                                            <div
                                                                                class="avatar-icon-wrapper avatar-icon-sm">
                                                                                <div class="avatar-icon">
                                                                                    <img src="assets/images/avatars/2.jpg"
                                                                                        alt="">
                                                                                </div>
                                                                            </div>
                                                                            <div
                                                                                class="avatar-icon-wrapper avatar-icon-sm">
                                                                                <div class="avatar-icon">
                                                                                    <img src="assets/images/avatars/3.jpg"
                                                                                        alt="">
                                                                                </div>
                                                                            </div>
                                                                            <div
                                                                                class="avatar-icon-wrapper avatar-icon-sm">
                                                                                <div class="avatar-icon">
                                                                                    <img src="assets/images/avatars/4.jpg"
                                                                                        alt="">
                                                                                </div>
                                                                            </div>
                                                                            <div
                                                                                class="avatar-icon-wrapper avatar-icon-sm">
                                                                                <div class="avatar-icon">
                                                                                    <img src="assets/images/avatars/5.jpg"
                                                                                        alt="">
                                                                                </div>
                                                                            </div>
                                                                            <div
                                                                                class="avatar-icon-wrapper avatar-icon-sm">
                                                                                <div class="avatar-icon">
                                                                                    <img src="assets/images/avatars/9.jpg"
                                                                                        alt="">
                                                                                </div>
                                                                            </div>
                                                                            <div
                                                                                class="avatar-icon-wrapper avatar-icon-sm">
                                                                                <div class="avatar-icon">
                                                                                    <img src="assets/images/avatars/7.jpg"
                                                                                        alt="">
                                                                                </div>
                                                                            </div>
                                                                            <div
                                                                                class="avatar-icon-wrapper avatar-icon-sm">
                                                                                <div class="avatar-icon">
                                                                                    <img src="assets/images/avatars/8.jpg"
                                                                                        alt="">
                                                                                </div>
                                                                            </div>
                                                                            <div
                                                                                class="avatar-icon-wrapper avatar-icon-sm avatar-icon-add">
                                                                                <div class="avatar-icon"><i>+</i></div>
                                                                            </div>
                                                                        </div>
                                                                    </h4>
                                                                    <span class="vertical-timeline-element-date"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="vertical-timeline-item dot-info vertical-timeline-element">
                                                            <div>
                                                                <span
                                                                    class="vertical-timeline-element-icon bounce-in"></span>
                                                                <div
                                                                    class="vertical-timeline-element-content bounce-in">
                                                                    <h4 class="timeline-title">This dot has an info
                                                                        state</h4>
                                                                    <span class="vertical-timeline-element-date"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="vertical-timeline-item dot-danger vertical-timeline-element">
                                                            <div>
                                                                <span
                                                                    class="vertical-timeline-element-icon bounce-in"></span>
                                                                <div
                                                                    class="vertical-timeline-element-content bounce-in">
                                                                    <h4 class="timeline-title">All Hands Meeting</h4>
                                                                    <span class="vertical-timeline-element-date"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="vertical-timeline-item dot-warning vertical-timeline-element">
                                                            <div>
                                                                <span
                                                                    class="vertical-timeline-element-icon bounce-in"></span>
                                                                <div
                                                                    class="vertical-timeline-element-content bounce-in">
                                                                    <p>Yet another one, at
                                                                        <span class="text-success">15:00 PM</span>
                                                                    </p>
                                                                    <span class="vertical-timeline-element-date"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="vertical-timeline-item dot-success vertical-timeline-element">
                                                            <div>
                                                                <span
                                                                    class="vertical-timeline-element-icon bounce-in"></span>
                                                                <div
                                                                    class="vertical-timeline-element-content bounce-in">
                                                                    <h4 class="timeline-title">Build the production
                                                                        release
                                                                        <span class="badge badge-danger ml-2">NEW</span>
                                                                    </h4>
                                                                    <span class="vertical-timeline-element-date"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="vertical-timeline-item dot-dark vertical-timeline-element">
                                                            <div>
                                                                <span
                                                                    class="vertical-timeline-element-icon bounce-in"></span>
                                                                <div
                                                                    class="vertical-timeline-element-content bounce-in">
                                                                    <h4 class="timeline-title">This dot has a dark state
                                                                    </h4>
                                                                    <span class="vertical-timeline-element-date"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane" id="tab-events-header1" role="tabpanel">
                                    <div class="scroll-area-sm">
                                        <div class="scrollbar-container">
                                            <div class="p-3">
                                                <div
                                                    class="vertical-without-time vertical-timeline vertical-timeline--animate vertical-timeline--one-column">
                                                    <div class="vertical-timeline-item vertical-timeline-element">
                                                        <div>
                                                            <span class="vertical-timeline-element-icon bounce-in">
                                                                <i
                                                                    class="badge badge-dot badge-dot-xl badge-success"></i>
                                                            </span>
                                                            <div class="vertical-timeline-element-content bounce-in">
                                                                <h4 class="timeline-title">All Hands Meeting</h4>
                                                                <p>Lorem ipsum dolor sic amet, today at
                                                                    <a href="javascript:void(0);">12:00 PM</a>
                                                                </p>
                                                                <span class="vertical-timeline-element-date"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="vertical-timeline-item vertical-timeline-element">
                                                        <div>
                                                            <span class="vertical-timeline-element-icon bounce-in">
                                                                <i
                                                                    class="badge badge-dot badge-dot-xl badge-warning"></i>
                                                            </span>
                                                            <div class="vertical-timeline-element-content bounce-in">
                                                                <p>Another meeting today, at
                                                                    <b class="text-danger">12:00 PM</b>
                                                                </p>
                                                                <p>Yet another one, at <span class="text-success">15:00
                                                                        PM</span></p>
                                                                <span class="vertical-timeline-element-date"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="vertical-timeline-item vertical-timeline-element">
                                                        <div>
                                                            <span class="vertical-timeline-element-icon bounce-in">
                                                                <i
                                                                    class="badge badge-dot badge-dot-xl badge-danger"></i>
                                                            </span>
                                                            <div class="vertical-timeline-element-content bounce-in">
                                                                <h4 class="timeline-title">Build the production release
                                                                </h4>
                                                                <p>Lorem ipsum dolor sit amit,consectetur eiusmdd tempor
                                                                    incididunt ut labore et dolore magna elit enim at
                                                                    minim veniam quis nostrud
                                                                </p>
                                                                <span class="vertical-timeline-element-date"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="vertical-timeline-item vertical-timeline-element">
                                                        <div>
                                                            <span class="vertical-timeline-element-icon bounce-in">
                                                                <i
                                                                    class="badge badge-dot badge-dot-xl badge-primary"></i>
                                                            </span>
                                                            <div class="vertical-timeline-element-content bounce-in">
                                                                <h4 class="timeline-title text-success">Something not
                                                                    important</h4>
                                                                <p>Lorem ipsum dolor sit amit,consectetur elit enim at
                                                                    minim veniam quis nostrud</p>
                                                                <span class="vertical-timeline-element-date"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="vertical-timeline-item vertical-timeline-element">
                                                        <div>
                                                            <span class="vertical-timeline-element-icon bounce-in">
                                                                <i
                                                                    class="badge badge-dot badge-dot-xl badge-success"></i>
                                                            </span>
                                                            <div class="vertical-timeline-element-content bounce-in">
                                                                <h4 class="timeline-title">All Hands Meeting</h4>
                                                                <p>Lorem ipsum dolor sic amet, today at
                                                                    <a href="javascript:void(0);">12:00 PM</a>
                                                                </p>
                                                                <span class="vertical-timeline-element-date"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="vertical-timeline-item vertical-timeline-element">
                                                        <div>
                                                            <span class="vertical-timeline-element-icon bounce-in">
                                                                <i
                                                                    class="badge badge-dot badge-dot-xl badge-warning"></i>
                                                            </span>
                                                            <div class="vertical-timeline-element-content bounce-in">
                                                                <p>Another meeting today, at
                                                                    <b class="text-danger">12:00 PM</b>
                                                                </p>
                                                                <p>Yet another one, at <span class="text-success">15:00
                                                                        PM</span></p>
                                                                <span class="vertical-timeline-element-date"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="vertical-timeline-item vertical-timeline-element">
                                                        <div>
                                                            <span class="vertical-timeline-element-icon bounce-in">
                                                                <i
                                                                    class="badge badge-dot badge-dot-xl badge-danger"></i>
                                                            </span>
                                                            <div class="vertical-timeline-element-content bounce-in">
                                                                <h4 class="timeline-title">Build the production release
                                                                </h4>
                                                                <p>Lorem ipsum dolor sit amit,consectetur eiusmdd tempor
                                                                    incididunt ut labore et dolore magna elit enim at
                                                                    minim veniam quis nostrud
                                                                </p>
                                                                <span class="vertical-timeline-element-date"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="vertical-timeline-item vertical-timeline-element">
                                                        <div>
                                                            <span class="vertical-timeline-element-icon bounce-in">
                                                                <i
                                                                    class="badge badge-dot badge-dot-xl badge-primary"></i>
                                                            </span>
                                                            <div class="vertical-timeline-element-content bounce-in">
                                                                <h4 class="timeline-title text-success">Something not
                                                                    important</h4>
                                                                <p>Lorem ipsum dolor sit amit,consectetur elit enim at
                                                                    minim veniam quis nostrud
                                                                </p>
                                                                <span class="vertical-timeline-element-date"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane" id="tab-errors-header1" role="tabpanel">
                                    <div class="scroll-area-sm">
                                        <div class="scrollbar-container">
                                            <div class="no-results pt-3 pb-0">
                                                <div class="swal2-icon swal2-success swal2-animate-success-icon">
                                                    <div class="swal2-success-circular-line-left"
                                                        style="background-color: rgb(255, 255, 255);"></div>
                                                    <span class="swal2-success-line-tip"></span>
                                                    <span class="swal2-success-line-long"></span>
                                                    <div class="swal2-success-ring"></div>
                                                    <div class="swal2-success-fix"
                                                        style="background-color: rgb(255, 255, 255);"></div>
                                                    <div class="swal2-success-circular-line-right"
                                                        style="background-color: rgb(255, 255, 255);"></div>
                                                </div>
                                                <div class="results-subtitle">All caught up!</div>
                                                <div class="results-title">There are no system errors!</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <ul class="nav flex-column">
                                <li class="nav-item-divider nav-item"></li>
                                <li class="nav-item-btn text-center nav-item">
                                    <button class="btn-shadow btn-wide btn-pill btn btn-focus btn-sm">View Latest
                                        Changes</button>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="dots-separator"></div>
                    <div class="dropdown">
                        <a class="dot-btn-wrapper" aria-haspopup="true" data-toggle="dropdown" aria-expanded="false">
                            <i class="dot-btn-icon lnr-earth icon-gradient bg-happy-itmeo"></i>
                        </a>
                        <div tabindex="-1" role="menu" aria-hidden="true" class="rm-pointers dropdown-menu">
                            <div class="dropdown-menu-header">
                                <div class="dropdown-menu-header-inner pt-4 pb-4 bg-focus">
                                    <div class="menu-header-image opacity-05"
                                        style="background-image: url('assets/images/dropdown-header/city2.jpg');"></div>
                                    <div class="menu-header-content text-center text-white">
                                        <h6 class="menu-header-subtitle mt-0"> Choose Language</h6>
                                    </div>
                                </div>
                            </div>
                            <h6 tabindex="-1" class="dropdown-header"> Popular Languages</h6>
                            <button type="button" tabindex="0" class="dropdown-item">
                                <span class="mr-3 opacity-8 flag large US"></span> USA
                            </button>
                            <button type="button" tabindex="0" class="dropdown-item">
                                <span class="mr-3 opacity-8 flag large CH"></span> Switzerland
                            </button>
                            <button type="button" tabindex="0" class="dropdown-item">
                                <span class="mr-3 opacity-8 flag large FR"></span>France
                            </button>
                            <button type="button" tabindex="0" class="dropdown-item">
                                <span class="mr-3 opacity-8 flag large ES"></span>Spain
                            </button>
                            <div tabindex="-1" class="dropdown-divider"></div>
                            <h6 tabindex="-1" class="dropdown-header">Others</h6>
                            <button type="button" tabindex="0" class="dropdown-item active">
                                <span class="mr-3 opacity-8 flag large DE"></span>Germany
                            </button>
                            <button type="button" tabindex="0" class="dropdown-item">
                                <span class="mr-3 opacity-8 flag large IT"></span> Italy
                            </button>
                        </div>
                    </div>
                    <div class="dots-separator"></div>
                    <div class="dropdown">
                        <a class="dot-btn-wrapper dd-chart-btn-2" aria-haspopup="true" data-toggle="dropdown"
                            aria-expanded="false">
                            <i class="dot-btn-icon lnr-pie-chart icon-gradient bg-love-kiss"></i>
                            <div class="badge badge-dot badge-abs badge-dot-sm badge-warning">Notifications</div>
                        </a>
                        <div tabindex="-1" role="menu" aria-hidden="true"
                            class="dropdown-menu-xl rm-pointers dropdown-menu">
                            <div class="dropdown-menu-header">
                                <div class="dropdown-menu-header-inner bg-premium-dark">
                                    <div class="menu-header-image"
                                        style="background-image: url('assets/images/dropdown-header/abstract4.jpg');">
                                    </div>
                                    <div class="menu-header-content text-white">
                                        <h5 class="menu-header-title">Users Online</h5>
                                        <h6 class="menu-header-subtitle">Recent Account Activity Overview</h6>
                                    </div>
                                </div>
                            </div>
                            <div class="widget-chart">
                                <div class="widget-chart-content">
                                    <div class="icon-wrapper rounded-circle">
                                        <div class="icon-wrapper-bg opacity-9 bg-focus"></div>
                                        <i class="lnr-users text-white"></i>
                                    </div>
                                    <div class="widget-numbers">
                                        <span>344k</span>
                                    </div>
                                    <div class="widget-subheading pt-2"> Profile views since last login</div>
                                    <div class="widget-description text-danger">
                                        <span class="pr-1"> <span>176%</span></span>
                                        <i class="fa fa-arrow-left"></i>
                                    </div>
                                </div>
                                <div class="widget-chart-wrapper">
                                    <div id="dashboard-sparkline-carousel-4-pop"></div>
                                </div>
                            </div>
                            <ul class="nav flex-column">
                                <li class="nav-item-divider mt-0 nav-item"></li>
                                <li class="nav-item-btn text-center nav-item">
                                    <button class="btn-shine btn-wide btn-pill btn btn-warning btn-sm">
                                        <i class="fa fa-cog fa-spin mr-2"></i> View Details
                                    </button>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="app-footer-right">
                <ul class="header-megamenu nav">
                    <li class="nav-item">
                        <a data-placement="top" rel="popover-focus" data-offset="300" data-toggle="popover-custom"
                            class="nav-link">
                            Footer Menu
                            <i class="fa fa-angle-up ml-2 opacity-8"></i>
                        </a>
                        <div class="rm-max-width rm-pointers">
                            <div class="d-none popover-custom-content">
                                <div class="dropdown-mega-menu dropdown-mega-menu-sm">
                                    <div class="grid-menu grid-menu-2col">
                                        <div class="no-gutters row">
                                            <div class="col-sm-6 col-xl-6">
                                                <ul class="nav flex-column">
                                                    <li class="nav-item-header nav-item">Overview</li>
                                                    <li class="nav-item">
                                                        <a class="nav-link">
                                                            <i class="nav-link-icon lnr-inbox"></i>
                                                            <span>Contacts</span>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item">
                                                        <a class="nav-link">
                                                            <i class="nav-link-icon lnr-book"></i>
                                                            <span>Incidents</span>
                                                            <div class="ml-auto badge badge-pill badge-danger">5</div>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item">
                                                        <a class="nav-link">
                                                            <i class="nav-link-icon lnr-picture"></i>
                                                            <span>Companies</span>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item">
                                                        <a disabled="" class="nav-link disabled">
                                                            <i class="nav-link-icon lnr-file-empty"></i>
                                                            <span>Dashboards</span>
                                                        </a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="col-sm-6 col-xl-6">
                                                <ul class="nav flex-column">
                                                    <li class="nav-item-header nav-item">Sales &amp; Marketing</li>
                                                    <li class="nav-item"><a class="nav-link">Queues</a></li>
                                                    <li class="nav-item"><a class="nav-link">Resource Groups</a></li>
                                                    <li class="nav-item">
                                                        <a class="nav-link">Goal Metrics
                                                            <div class="ml-auto badge badge-warning">3</div>
                                                        </a>
                                                    </li>
                                                    <li class="nav-item"><a class="nav-link">Campaigns</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a data-placement="top" rel="popover-focus" data-offset="300" data-toggle="popover-custom"
                            class="nav-link">
                            Grid Menu
                            <div class="badge badge-dark ml-0 ml-1">
                                <small>NEW</small>
                            </div>
                            <i class="fa fa-angle-up ml-2 opacity-8"></i>
                        </a>
                        <div class="rm-max-width rm-pointers">
                            <div class="d-none popover-custom-content">
                                <div class="dropdown-menu-header">
                                    <div class="dropdown-menu-header-inner bg-tempting-azure">
                                        <div class="menu-header-image opacity-1"
                                            style="background-image: url('assets/images/dropdown-header/city5.jpg');">
                                        </div>
                                        <div class="menu-header-content text-dark">
                                            <h5 class="menu-header-title">Two Column Grid</h5>
                                            <h6 class="menu-header-subtitle">Easy grid navigation inside popovers</h6>
                                        </div>
                                    </div>
                                </div>
                                <div class="grid-menu grid-menu-2col">
                                    <div class="no-gutters row">
                                        <div class="col-sm-6">
                                            <button
                                                class="btn-icon-vertical btn-transition-text btn-transition btn-transition-alt pt-2 pb-2 btn btn-outline-dark">
                                                <i
                                                    class="lnr-lighter text-dark opacity-7 btn-icon-wrapper mb-2"></i>Automation
                                            </button>
                                        </div>
                                        <div class="col-sm-6">
                                            <button
                                                class="btn-icon-vertical btn-transition-text btn-transition btn-transition-alt pt-2 pb-2 btn btn-outline-danger">
                                                <i
                                                    class="lnr-construction text-danger opacity-7 btn-icon-wrapper mb-2"></i>Reports
                                            </button>
                                        </div>
                                        <div class="col-sm-6">
                                            <button
                                                class="btn-icon-vertical btn-transition-text btn-transition btn-transition-alt pt-2 pb-2 btn btn-outline-success">
                                                <i
                                                    class="lnr-bus text-success opacity-7 btn-icon-wrapper mb-2"></i>Activity
                                            </button>
                                        </div>
                                        <div class="col-sm-6">
                                            <button
                                                class="btn-icon-vertical btn-transition-text btn-transition btn-transition-alt pt-2 pb-2 btn btn-outline-focus">
                                                <i
                                                    class="lnr-gift text-focus opacity-7 btn-icon-wrapper mb-2"></i>Settings
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <ul class="nav flex-column">
                                    <li class="nav-item-divider nav-item"></li>
                                    <li class="nav-item-btn clearfix nav-item">
                                        <div class="float-left">
                                            <button class="btn btn-link btn-sm">Link Button</button>
                                        </div>
                                        <div class="float-right">
                                            <button class="btn-shadow btn btn-info btn-sm">Info Button</button>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
</div>
</div>
</div>
<div class="app-drawer-wrapper">
    <div class="drawer-nav-btn">
        <button type="button" class="hamburger hamburger--elastic is-active">
            <span class="hamburger-box"><span class="hamburger-inner"></span></span>
        </button>
    </div>
    <div class="drawer-content-wrapper">
        <div class="scrollbar-container">
            <h3 class="drawer-heading">Servers Status</h3>
            <div class="drawer-section">
                <div class="row">
                    <div class="col">
                        <div class="progress-box">
                            <h4>Server Load 1</h4>
                            <div class="circle-progress circle-progress-gradient-xl mx-auto">
                                <small></small>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="progress-box">
                            <h4>Server Load 2</h4>
                            <div class="circle-progress circle-progress-success-xl mx-auto">
                                <small></small>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="progress-box">
                            <h4>Server Load 3</h4>
                            <div class="circle-progress circle-progress-danger-xl mx-auto">
                                <small></small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="divider"></div>
                <div class="mt-3">
                    <h5 class="text-center card-title">Live Statistics</h5>
                    <div id="sparkline-carousel-3"></div>
                    <div class="row">
                        <div class="col">
                            <div class="widget-chart p-0">
                                <div class="widget-chart-content">
                                    <div class="widget-numbers text-warning fsize-3">43</div>
                                    <div class="widget-subheading pt-1">Packages</div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="widget-chart p-0">
                                <div class="widget-chart-content">
                                    <div class="widget-numbers text-danger fsize-3">65</div>
                                    <div class="widget-subheading pt-1">Dropped</div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div class="widget-chart p-0">
                                <div class="widget-chart-content">
                                    <div class="widget-numbers text-success fsize-3">18</div>
                                    <div class="widget-subheading pt-1">Invalid</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <div class="text-center mt-2 d-block">
                        <button class="mr-2 border-0 btn-transition btn btn-outline-danger">Escalate Issue</button>
                        <button class="border-0 btn-transition btn btn-outline-success">Support Center</button>
                    </div>
                </div>
            </div>
            <h3 class="drawer-heading">File Transfers</h3>
            <div class="drawer-section p-0">
                <div class="files-box">
                    <ul class="list-group list-group-flush">
                        <li class="pt-2 pb-2 pr-2 list-group-item">
                            <div class="widget-content p-0">
                                <div class="widget-content-wrapper">
                                    <div class="widget-content-left opacity-6 fsize-2 mr-3 text-primary center-elem">
                                        <i class="fa fa-file-alt"></i>
                                    </div>
                                    <div class="widget-content-left">
                                        <div class="widget-heading font-weight-normal">TPSReport.docx</div>
                                    </div>
                                    <div class="widget-content-right widget-content-actions">
                                        <button class="btn-icon btn-icon-only btn btn-link btn-sm">
                                            <i class="fa fa-cloud-download-alt"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="pt-2 pb-2 pr-2 list-group-item">
                            <div class="widget-content p-0">
                                <div class="widget-content-wrapper">
                                    <div class="widget-content-left opacity-6 fsize-2 mr-3 text-warning center-elem">
                                        <i class="fa fa-file-archive"></i>
                                    </div>
                                    <div class="widget-content-left">
                                        <div class="widget-heading font-weight-normal">Latest_photos.zip</div>
                                    </div>
                                    <div class="widget-content-right widget-content-actions">
                                        <button class="btn-icon btn-icon-only btn btn-link btn-sm">
                                            <i class="fa fa-cloud-download-alt"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="pt-2 pb-2 pr-2 list-group-item">
                            <div class="widget-content p-0">
                                <div class="widget-content-wrapper">
                                    <div class="widget-content-left opacity-6 fsize-2 mr-3 text-danger center-elem">
                                        <i class="fa fa-file-pdf"></i>
                                    </div>
                                    <div class="widget-content-left">
                                        <div class="widget-heading font-weight-normal">Annual Revenue.pdf</div>
                                    </div>
                                    <div class="widget-content-right widget-content-actions">
                                        <button class="btn-icon btn-icon-only btn btn-link btn-sm">
                                            <i class="fa fa-cloud-download-alt"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="pt-2 pb-2 pr-2 list-group-item">
                            <div class="widget-content p-0">
                                <div class="widget-content-wrapper">
                                    <div class="widget-content-left opacity-6 fsize-2 mr-3 text-success center-elem">
                                        <i class="fa fa-file-excel"></i>
                                    </div>
                                    <div class="widget-content-left">
                                        <div class="widget-heading font-weight-normal">Analytics_GrowthReport.xls</div>
                                    </div>
                                    <div class="widget-content-right widget-content-actions">
                                        <button class="btn-icon btn-icon-only btn btn-link btn-sm">
                                            <i class="fa fa-cloud-download-alt"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <h3 class="drawer-heading">Tasks in Progress</h3>
            <div class="drawer-section p-0">
                <div class="todo-box">
                    <ul class="todo-list-wrapper list-group list-group-flush">
                        <li class="list-group-item">
                            <div class="todo-indicator bg-warning"></div>
                            <div class="widget-content p-0">
                                <div class="widget-content-wrapper">
                                    <div class="widget-content-left mr-2">
                                        <div class="custom-checkbox custom-control">
                                            <input type="checkbox" id="exampleCustomCheckbox1266"
                                                class="custom-control-input">
                                            <label class="custom-control-label"
                                                for="exampleCustomCheckbox1266">&nbsp;</label>
                                        </div>
                                    </div>
                                    <div class="widget-content-left">
                                        <div class="widget-heading">Wash the car
                                            <div class="badge badge-danger ml-2">Rejected</div>
                                        </div>
                                        <div class="widget-subheading"><i>Written by Bob</i></div>
                                    </div>
                                    <div class="widget-content-right widget-content-actions">
                                        <button class="border-0 btn-transition btn btn-outline-success">
                                            <i class="fa fa-check"></i>
                                        </button>
                                        <button class="border-0 btn-transition btn btn-outline-danger">
                                            <i class="fa fa-trash-alt"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="list-group-item">
                            <div class="todo-indicator bg-focus"></div>
                            <div class="widget-content p-0">
                                <div class="widget-content-wrapper">
                                    <div class="widget-content-left mr-2">
                                        <div class="custom-checkbox custom-control">
                                            <input type="checkbox" id="exampleCustomCheckbox1666"
                                                class="custom-control-input">
                                            <label class="custom-control-label"
                                                for="exampleCustomCheckbox1666">&nbsp;</label>
                                        </div>
                                    </div>
                                    <div class="widget-content-left">
                                        <div class="widget-heading">Task with hover dropdown menu</div>
                                        <div class="widget-subheading">
                                            <div>By Johnny
                                                <div class="badge badge-pill badge-info ml-2">NEW</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="widget-content-right widget-content-actions">
                                        <div class="d-inline-block dropdown">
                                            <button type="button" data-toggle="dropdown" aria-haspopup="true"
                                                aria-expanded="false" class="border-0 btn-transition btn btn-link">
                                                <i class="fa fa-ellipsis-h"></i>
                                            </button>
                                            <div tabindex="-1" role="menu" aria-hidden="true"
                                                class="dropdown-menu dropdown-menu-right">
                                                <h6 tabindex="-1" class="dropdown-header">Header</h6>
                                                <button type="button" disabled="" tabindex="-1"
                                                    class="disabled dropdown-item">Action</button>
                                                <button type="button" tabindex="0" class="dropdown-item">Another
                                                    Action</button>
                                                <div tabindex="-1" class="dropdown-divider"></div>
                                                <button type="button" tabindex="0" class="dropdown-item">Another
                                                    Action</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="list-group-item">
                            <div class="todo-indicator bg-primary"></div>
                            <div class="widget-content p-0">
                                <div class="widget-content-wrapper">
                                    <div class="widget-content-left mr-2">
                                        <div class="custom-checkbox custom-control">
                                            <input type="checkbox" id="exampleCustomCheckbox4777"
                                                class="custom-control-input">
                                            <label class="custom-control-label"
                                                for="exampleCustomCheckbox4777">&nbsp;</label>
                                        </div>
                                    </div>
                                    <div class="widget-content-left flex2">
                                        <div class="widget-heading">Badge on the right task</div>
                                        <div class="widget-subheading">This task has show on hover actions!</div>
                                    </div>
                                    <div class="widget-content-right widget-content-actions">
                                        <button class="border-0 btn-transition btn btn-outline-success">
                                            <i class="fa fa-check"></i>
                                        </button>
                                    </div>
                                    <div class="widget-content-right ml-3">
                                        <div class="badge badge-pill badge-success">Latest Task</div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="list-group-item">
                            <div class="todo-indicator bg-info"></div>
                            <div class="widget-content p-0">
                                <div class="widget-content-wrapper">
                                    <div class="widget-content-left mr-2">
                                        <div class="custom-checkbox custom-control">
                                            <input type="checkbox" id="exampleCustomCheckbox2444"
                                                class="custom-control-input">
                                            <label class="custom-control-label"
                                                for="exampleCustomCheckbox2444">&nbsp;</label>
                                        </div>
                                    </div>
                                    <div class="widget-content-left mr-3">
                                        <div class="widget-content-left">
                                            <img width="42" class="rounded" src="assets/images/avatars/1.jpg" alt="" />
                                        </div>
                                    </div>
                                    <div class="widget-content-left">
                                        <div class="widget-heading">Go grocery shopping</div>
                                        <div class="widget-subheading">A short description ...</div>
                                    </div>
                                    <div class="widget-content-right widget-content-actions">
                                        <button class="border-0 btn-transition btn btn-sm btn-outline-success">
                                            <i class="fa fa-check"></i>
                                        </button>
                                        <button class="border-0 btn-transition btn btn-sm btn-outline-danger">
                                            <i class="fa fa-trash-alt"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="list-group-item">
                            <div class="todo-indicator bg-success"></div>
                            <div class="widget-content p-0">
                                <div class="widget-content-wrapper">
                                    <div class="widget-content-left mr-2">
                                        <div class="custom-checkbox custom-control">
                                            <input type="checkbox" id="exampleCustomCheckbox3222"
                                                class="custom-control-input">
                                            <label class="custom-control-label"
                                                for="exampleCustomCheckbox3222">&nbsp;</label>
                                        </div>
                                    </div>
                                    <div class="widget-content-left flex2">
                                        <div class="widget-heading">Development Task</div>
                                        <div class="widget-subheading">Finish React ToDo List App</div>
                                    </div>
                                    <div class="widget-content-right">
                                        <div class="badge badge-warning mr-2">69</div>
                                    </div>
                                    <div class="widget-content-right">
                                        <button class="border-0 btn-transition btn btn-outline-success">
                                            <i class="fa fa-check"></i>
                                        </button>
                                        <button class="border-0 btn-transition btn btn-outline-danger">
                                            <i class="fa fa-trash-alt"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            <h3 class="drawer-heading">Urgent Notifications</h3>
            <div class="drawer-section">
                <div class="notifications-box">
                    <div
                        class="vertical-time-simple vertical-without-time vertical-timeline vertical-timeline--one-column">
                        <div class="vertical-timeline-item dot-danger vertical-timeline-element">
                            <div>
                                <span class="vertical-timeline-element-icon bounce-in"></span>
                                <div class="vertical-timeline-element-content bounce-in">
                                    <h4 class="timeline-title">All Hands Meeting</h4>
                                    <span class="vertical-timeline-element-date"></span>
                                </div>
                            </div>
                        </div>
                        <div class="vertical-timeline-item dot-warning vertical-timeline-element">
                            <div>
                                <span class="vertical-timeline-element-icon bounce-in"></span>
                                <div class="vertical-timeline-element-content bounce-in">
                                    <p>Yet another one, at <span class="text-success">15:00 PM</span></p>
                                    <span class="vertical-timeline-element-date"></span>
                                </div>
                            </div>
                        </div>
                        <div class="vertical-timeline-item dot-success vertical-timeline-element">
                            <div>
                                <span class="vertical-timeline-element-icon bounce-in"></span>
                                <div class="vertical-timeline-element-content bounce-in">
                                    <h4 class="timeline-title">Build the production release
                                        <div class="badge badge-danger ml-2">NEW</div>
                                    </h4>
                                    <span class="vertical-timeline-element-date"></span>
                                </div>
                            </div>
                        </div>
                        <div class="vertical-timeline-item dot-primary vertical-timeline-element">
                            <div>
                                <span class="vertical-timeline-element-icon bounce-in"></span>
                                <div class="vertical-timeline-element-content bounce-in">
                                    <h4 class="timeline-title">Something not important
                                        <div class="avatar-wrapper mt-2 avatar-wrapper-overlap">
                                            <div class="avatar-icon-wrapper avatar-icon-sm">
                                                <div class="avatar-icon">
                                                    <img src="assets/images/avatars/1.jpg" alt="">
                                                </div>
                                            </div>
                                            <div class="avatar-icon-wrapper avatar-icon-sm">
                                                <div class="avatar-icon">
                                                    <img src="assets/images/avatars/2.jpg" alt="">
                                                </div>
                                            </div>
                                            <div class="avatar-icon-wrapper avatar-icon-sm">
                                                <div class="avatar-icon">
                                                    <img src="assets/images/avatars/3.jpg" alt="">
                                                </div>
                                            </div>
                                            <div class="avatar-icon-wrapper avatar-icon-sm">
                                                <div class="avatar-icon">
                                                    <img src="assets/images/avatars/4.jpg" alt="">
                                                </div>
                                            </div>
                                            <div class="avatar-icon-wrapper avatar-icon-sm">
                                                <div class="avatar-icon">
                                                    <img src="assets/images/avatars/5.jpg" alt="">
                                                </div>
                                            </div>
                                            <div class="avatar-icon-wrapper avatar-icon-sm">
                                                <div class="avatar-icon">
                                                    <img src="assets/images/avatars/6.jpg" alt="">
                                                </div>
                                            </div>
                                            <div class="avatar-icon-wrapper avatar-icon-sm">
                                                <div class="avatar-icon">
                                                    <img src="assets/images/avatars/7.jpg" alt="">
                                                </div>
                                            </div>
                                            <div class="avatar-icon-wrapper avatar-icon-sm">
                                                <div class="avatar-icon">
                                                    <img src="assets/images/avatars/8.jpg" alt="">
                                                </div>
                                            </div>
                                            <div class="avatar-icon-wrapper avatar-icon-sm avatar-icon-add">
                                                <div class="avatar-icon"><i>+</i></div>
                                            </div>
                                        </div>
                                    </h4>
                                    <span class="vertical-timeline-element-date"></span>
                                </div>
                            </div>
                        </div>
                        <div class="vertical-timeline-item dot-info vertical-timeline-element">
                            <div>
                                <span class="vertical-timeline-element-icon bounce-in"></span>
                                <div class="vertical-timeline-element-content bounce-in">
                                    <h4 class="timeline-title">This dot has an info state</h4>
                                    <span class="vertical-timeline-element-date"></span>
                                </div>
                            </div>
                        </div>
                        <div class="vertical-timeline-item dot-dark vertical-timeline-element">
                            <div>
                                <span class="vertical-timeline-element-icon is-hidden"></span>
                                <div class="vertical-timeline-element-content is-hidden">
                                    <h4 class="timeline-title">This dot has a dark state</h4>
                                    <span class="vertical-timeline-element-date"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="app-drawer-overlay d-none animated fadeIn"></div>


</body>

</html>
{% endblock%}